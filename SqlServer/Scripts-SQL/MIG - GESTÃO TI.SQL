create tablespace TSD_GESTAO_TI datafile '/u01/app/oracle/oradata/inet/tsd_gestaoti01.dbf' size 1024m;
create tablespace TSI_GESTAO_TI datafile '/u01/app/oracle/oradata/inet/tsi_gestaoti01.dbf' size 1024m;

/*
impdp ifrgestao_ti DIRECTORY=EXP_INET DUMPFILE=exp_gestaoti.dmp LOGFILE=imp_gestaoti.log
*/


CREATE ROLE ROL_GESTAOTI_ADMIN;
CREATE ROLE ROL_GESTAOTI_CONSULTA;
CREATE ROLE ROL_IFRGESTAO_TI_CON;
CREATE ROLE RL_CONSULTA_SAC;

CREATE USER USR_GESTAOTI IDENTIFIED BY GESTAO;

--drop USER IFRGESTAO_TI cascade;

CREATE USER IFRGESTAO_TI IDENTIFIED BY cerberus;

GRANT DBA, CONNECT, RESOURCE TO IFRGESTAO_TI;

ALTER USER IFRGESTAO_TI QUOTA UNLIMITED ON tsd_gestao_ti;

ALTER USER IFRGESTAO_TI DEFAULT TABLESPACE TSD_GESTAO_TI;

GRANT ROL_GESTAOTI_ADMIN  TO USR_GESTAOTI;

---
GRANT SELECT, INSERT, UPDATE, DELETE ON IFRGESTAO_TI.TEMP_SLA TO ROL_GESTAOTI_ADMIN;

GRANT SELECT ON DEPENDENCIA TO ROL_GESTAOTI_ADMIN;

grant select on  "IFRGESTAO_TI"."viw_COLABORADOR" to ROL_GESTAOTI_ADMIN;

grant select on  "IFRGESTAO_TI"."TAB_COLABORADOR" to ROL_GESTAOTI_ADMIN;

GRANT SELECT ON "IFRCORP"."TAB_AGE_EMPREGADOS" TO ROL_GESTAOTI_ADMIN

GRANT SELECT ON IFRCORP.TAB_AGE_EMPREGADOS TO IFRGESTAO_TI WITH GRANT OPTION;

GRANT select on  "IFRGESTAO_TI"."VIW_AGE_EMPREGADOS" to ROL_GESTAOTI_ADMIN;

GRANT select on  "IFRGESTAO_TI"."DEPENDENCIA" to ROL_GESTAOTI_ADMIN;

---***

CREATE VIEW IFRGESTAO_TI.VIW_AGE_EMPREGADOS AS SELECT * FROM IFRCORP.TAB_AGE_EMPREGADOS

CREATE PUBLIC SYNONYM TEMP_SLA FOR IFRGESTAO_TI.TEMP_SLA;

CREATE PUBLIC SYNONYM viw_COLABORADOR FOR "IFRGESTAO_TI"."viw_COLABORADOR";

CREATE PUBLIC SYNONYM TAB_COLABORADOR FOR "IFRGESTAO_TI"."TAB_COLABORADOR";

CREATE PUBLIC SYNONYM TAB_AGE_EMPREGADOS FOR "IFRCORP"."TAB_AGE_EMPREGADOS";

CREATE PUBLIC SYNONYM TAB_AGE_EMPREGADOS FOR IFRCORP.TAB_AGE_EMPREGADOS;

CREATE PUBLIC SYNONYM  VIW_AGE_EMPREGADOS FOR "IFRGESTAO_TI"."VIW_AGE_EMPREGADOS";

CREATE PUBLIC SYNONYM DEPENDENCIA FOR IFRGESTAO_TI.DEPENDENCIA;

/*
NLS_LANG=American_America.AL32UTF8; export NLS_LANG
NLS_CHARACTERSET=AL32UTF8; export NLS_CHARACTERSET
*/


grant select on unidades_organizacionais to ifrgestao_ti with grant option;

grant select on dependencias to ifrgestao_ti with grant option;

--PRODSEDE
grant select on ifragenda.tab_age_empregados to LICITACAO_DBLINK;

grant select on ifrlic.fornecedor to LICITACAO_DBLINK;

grant select on ifrgestao_ti.viw_cadastros to LICITACAO_DBLINK;

grant select on ifrgestao_ti.viw_fornecedor to LICITACAO_DBLINK;

grant select on ifrcorp.TAB_COLABORADOR to LICITACAO_DBLINK;

grant select on ifrcorp.VIW_COLABORADOR to LICITACAO_DBLINK;

grant select on IFRDBA2.DEPENDENCIAS to LICITACAO_DBLINK;

grant select on ifrdba2.dependencia to LICITACAO_DBLINK;

grant select on IFRDBA2.UNIDADES_ORGANIZACIONAIS to LICITACAO_DBLINK;

