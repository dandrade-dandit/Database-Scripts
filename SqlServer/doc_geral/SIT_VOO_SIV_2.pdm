<?xml version="1.0" encoding="UTF-8"?>
<?PowerDesigner ID="{6958C2FB-8FBB-11D8-B6CA-00024416849C}" Name="PhysicalDataModel_2" Objects="232" Symbols="29" Type="{CDE44E21-9669-11D1-9914-006097355D9B}" signature="PDM_DATA_MODEL_XML" version="9.0.0.438 Evaluation"?>
<!-- please do not edit this file -->

<Model xmlns:a="attribute" xmlns:c="collection" xmlns:o="object">

<o:RootObject Id="o1">
<c:Children>
<o:Model Id="o2">
<a:ObjectID>6958C2FB-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>PhysicalDataModel_2</a:Name>
<a:Code>PHYSICALDATAMODEL_2</a:Code>
<a:CreationDate>1081598962</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081709882</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PackageOptionsText>
[FolderOptions]

[FolderOptions\Physical Objects]
GenerationCheckModel=Yes
GenerationPath=
RevPkey=Yes
RevFkey=Yes
RevAkey=Yes
RevCheck=Yes
RevIndx=Yes
RevOpts=Yes
RevViewAsTabl=No
RevSystAsTabl=Yes
RevSynmAsTabl=Yes
GenScriptName=crebas
GenScriptName0=
GenScriptName1=
GenScriptName2=
GenScriptName3=
GenScriptName4=
GenScriptName5=
GenScriptName6=
GenScriptName7=
GenScriptName8=
GenScriptName9=
GenPathName=
GenSingleFile=Yes
GenTrgScriptName=cretrg
GenTrgScriptName0=
GenTrgScriptName1=
GenTrgScriptName2=
GenTrgScriptName3=
GenTrgScriptName4=
GenTrgScriptName5=
GenTrgScriptName6=
GenTrgScriptName7=
GenTrgScriptName8=
GenTrgScriptName9=
GenTrgPathName=
GenTrgSingleFile=Yes
GenODBC=No
GenCheckModel=Yes
GenScriptPrev=Yes
GenArchiveModel=No
GenDataPathName=
GenDataSinglefile=Yes
GenDataScriptName=testdata
GenDataScriptName0=
GenDataScriptName1=
GenDataScriptName2=
GenDataScriptName3=
GenDataScriptName4=
GenDataScriptName5=
GenDataScriptName6=
GenDataScriptName7=
GenDataScriptName8=
GenDataScriptName9=
GenDataOdbc=No
GenDataDelOld=No
GenDataTitle=No
GenDataDefNumRows=20
GenDataCommit=0
GenDataPacket=0
GenDataCSV=No
GenDataOwner=No
GenDataProfNumb=
GenDataProfChar=
GenDataProfDate=
GenTspcCrea=Yes
GenTspcDrop=Yes
GenStorCrea=Yes
GenStorDrop=Yes
GenUddtCrea=Yes
GenUddtDval=Yes
GenUddtChck=Yes
GenUddtCmmt=Yes
GenUddtDrop=Yes
GenClssCrea=Yes
GenClssHead=Yes
GenClssFoot=Yes
GenClssCmmt=Yes
GenClssDrop=Yes
GenClssInst=Yes
GenClssSupp=Yes
GenDtbsCrea=Yes
GenDtbsOpts=Yes
GenDtbsHead=Yes
GenDtbsFoot=Yes
GenDtbsOpen=Yes
GenDtbsClose=Yes
GenDtbsDrop=Yes
GenUserCrea=Yes
GenUserGrant=Yes
GenUserDrop=Yes
GenTablCrea=Yes
GenTablChck=Yes
GenTablOpts=Yes
GenTablHead=Yes
GenTablFoot=Yes
GenTablCmmt=Yes
GenTablDrop=Yes
GenColnUddt=Yes
GenColnDval=Yes
GenColnChck=Yes
GenColnOpts=Yes
GenColnCmmt=Yes
GenPkeyCrea=Yes
GenPkeyOpts=Yes
GenPkeyDrop=Yes
GenAkeyCrea=Yes
GenAkeyOpts=Yes
GenAkeyDrop=Yes
GenRefrCrea=Yes
GenRefrIdcl=Yes
GenRefrIDUR=Yes
GenRefrIDUC=Yes
GenRefrIDUN=Yes
GenRefrIDUD=Yes
GenRefrIDDR=Yes
GenRefrIDDC=Yes
GenRefrIDDN=Yes
GenRefrIDDD=Yes
GenRefrDrop=Yes
GenIndxCrea=Yes
GenIndxPkey=Yes
GenIndxFkey=Yes
GenIndxAkey=Yes
GenIndxClus=Yes
GenIndxOthr=Yes
GenIndxOpts=Yes
GenIndxCmmt=Yes
GenIndxDrop=Yes
GenViewCrea=Yes
GenViewHead=Yes
GenViewFoot=Yes
GenViewCmmt=Yes
GenViewDrop=Yes
GenJidxCrea=Yes
GenJidxHead=Yes
GenJidxFoot=Yes
GenJidxDrop=Yes
GenSqncCrea=Yes
GenSqncDrop=Yes
GenTrgrCrea=Yes
GenTrgrDrop=Yes
GenTrgrFIns=Yes
GenTrgrFUpd=Yes
GenTrgrFDel=Yes
GenProcCrea=Yes
GenProcDrop=Yes
GenScriptTitle=Yes
GenScriptNamLabl=No
GenScriptQDtbs=Yes
GenScriptQOwnr=Yes
GenScriptCase=0
GenScriptCharset=0
GenScriptNAcct=No
GenScriptODBC=No
GenUseSync=No
GenSyncChoice=0
GenSyncArch=
GenTmpTablCrea=Yes
GenTmpTablDrop=Yes
GenTrgrStdMsg=Yes
GenTrgrMsgTab=
GenTrgrMsgNo=
GenTrgrMsgTxt=
GenRuleCrea=Yes
GenRuleDrop=Yes

[FolderOptions\Pdm]
IndxIQName=%COLUMN%_%INDEXTYPE%
IndxPK=Yes
IndxFK=Yes
IndxAK=Yes
IndxPKName=%TABLE%_PK
IndxFKName=%REFR%_FK
IndxAKName=%AKEY%_AK
IndxPreserve=No
IndxThreshold=0
RefrPreserve=No
JidxPreserve=No
RbldMultiFact=Yes
RbldMultiDim=Yes
RbldMultiJidx=Yes
CubePreserve=No
CubeScriptPath=
CubeScriptCase=0
CubeScriptCharset=0
CubeScriptNacct=No
CubeScriptHeader=No
CubeScriptExt=csv
CubeScriptExt0=txt
CubeScriptExt1=
CubeScriptExt2=
CubeScriptSep=,
CubeScriptDeli=&quot;
TrgrPreserve=No
TrgrIns=Yes
TrgrUpd=Yes
TrgrDel=Yes
TrgrC2Ins=Yes
TrgrC2Upd=Yes
TrgrC3=Yes
TrgrC4=Yes
TrgrC5=Yes
TrgrC6=Yes
TrgrC7=Yes
TrgrC8=Yes
TrgrC9=Yes
TrgrC10=Yes
TrgrC11=Yes
TrgrC1=Yes
TrgrC12Ins=Yes
TrgrC12Upd=Yes
TrgrC13=Yes
</a:PackageOptionsText>
<a:ModelOptionsText>
[ModelOptions]

[ModelOptions\Physical Objects]
DisplayName=Yes
DefaultDttp=&lt;Undefined&gt;
IgnoreOwner=No
RefrUnique=No
RefrAutoMigrate=Yes
RefrMigrateReuse=Yes
RefrMigrateDomain=Yes
RefrMigrateCheck=Yes
RefrMigrateRule=Yes
RefrMigrateExtd=No
RefrMigrDefaultLink=No
DomnForbDivg=No
DomnCopyDttp=Yes
DomnCopyChck=No
DomnCopyRule=No
DomnCopyMand=No
DomnCopyExtd=No
DomnCopyProf=No

[ModelOptions\Connection]

[ModelOptions\Pdm]

[ModelOptions\Generate]

[ModelOptions\Generate\Cdm]
CheckModel=1
SaveLinks=1
NameToCode=0
Notation=2

[ModelOptions\Generate\Oom]
CheckModel=1
SaveLinks=1
ORMapping=0
NameToCode=0
ClassPrefix=

[ModelOptions\ClssNamingOptions]

[ModelOptions\ClssNamingOptions\PDMPCKG]

[ModelOptions\ClssNamingOptions\PDMPCKG\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;+-*/\.,!:;&#39;&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\PDMPCKG\Code]
Template=
MaxLen=254
Case=U
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\PDMDOMN]

[ModelOptions\ClssNamingOptions\PDMDOMN\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;+-*/\.,!:;&#39;&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\PDMDOMN\Code]
Template=
MaxLen=128
Case=U
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\TABL]

[ModelOptions\ClssNamingOptions\TABL\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;+-*/\.,!:;&#39;&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\TABL\Code]
Template=
MaxLen=128
Case=U
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\COLN]

[ModelOptions\ClssNamingOptions\COLN\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;+-*/\.,!:;&#39;&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\COLN\Code]
Template=
MaxLen=128
Case=U
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\REFR]

[ModelOptions\ClssNamingOptions\REFR\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;+-*/\.,!:;&#39;&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\REFR\Code]
Template=
MaxLen=254
Case=U
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\VREF]

[ModelOptions\ClssNamingOptions\VREF\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;+-*/\.,!:;&#39;&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\VREF\Code]
Template=
MaxLen=254
Case=U
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\VIEW]

[ModelOptions\ClssNamingOptions\VIEW\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;+-*/\.,!:;&#39;&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\VIEW\Code]
Template=
MaxLen=128
Case=U
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\FACT]

[ModelOptions\ClssNamingOptions\FACT\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;+-*/\.,!:;&#39;&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\FACT\Code]
Template=
MaxLen=254
Case=U
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\DIMN]

[ModelOptions\ClssNamingOptions\DIMN\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;+-*/\.,!:;&#39;&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\DIMN\Code]
Template=
MaxLen=254
Case=U
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\CUBE]

[ModelOptions\ClssNamingOptions\CUBE\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;+-*/\.,!:;&#39;&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\CUBE\Code]
Template=
MaxLen=254
Case=U
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\MEAS]

[ModelOptions\ClssNamingOptions\MEAS\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;+-*/\.,!:;&#39;&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\MEAS\Code]
Template=
MaxLen=254
Case=U
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\DATTR]

[ModelOptions\ClssNamingOptions\DATTR\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;+-*/\.,!:;&#39;&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\DATTR\Code]
Template=
MaxLen=254
Case=U
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\FILO]

[ModelOptions\ClssNamingOptions\FILO\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;\/:*?&lt;&gt;|&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\FILO\Code]
Template=
MaxLen=254
Case=U
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_.&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\DefaultClass]

[ModelOptions\ClssNamingOptions\DefaultClass\Name]
Template=
MaxLen=254
Case=M
ValidChar=
InvldChar=&quot;+-*/\.,!:;&#39;&quot;
AllValid=1
NoAccent=0
DefaultChar=_
Script=.foreach_part(%Name%)[CRLF].convert_name(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\ClssNamingOptions\DefaultClass\Code]
Template=
MaxLen=254
Case=M
ValidChar=&#39;a&#39;-&#39;z&#39;,&#39;A&#39;-&#39;Z&#39;,&#39;0&#39;-&#39;9&#39;,&quot;_&quot;
InvldChar=
AllValid=0
NoAccent=1
DefaultChar=_
Script=.foreach_part(%Code%)[CRLF].convert_code(%CurrentPart%)[CRLF].next(&quot;_&quot;)
ConvTable=

[ModelOptions\NamingOptionsTemplates]

[ModelOptions\Default Opts]

[ModelOptions\Default Opts\TABL]
PhysOpts=

[ModelOptions\Default Opts\COLN]
PhysOpts=

[ModelOptions\Default Opts\INDX]
PhysOpts=

[ModelOptions\Default Opts\AKEY]
PhysOpts=

[ModelOptions\Default Opts\PKEY]
PhysOpts=

[ModelOptions\Default Opts\STOR]
PhysOpts=

[ModelOptions\Default Opts\TSPC]
PhysOpts=

[ModelOptions\Default Opts\SQNC]
PhysOpts=

[ModelOptions\Default Opts\DTBS]
PhysOpts=
</a:ModelOptionsText>
<c:DBMS>
<o:Shortcut Id="o3">
<a:ObjectID>6958C301-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Microsoft SQL Server 7.x</a:Name>
<a:Code>SQL SERVER 7</a:Code>
<a:CreationDate>1081598962</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598962</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:TargetID>986CB218-1936-4245-823C-883D7AF59B86</a:TargetID>
<a:TargetClassID>4BA9F647-DAB1-11D1-9944-006097355D9B</a:TargetClassID>
<a:TargetPackagePath/>
</o:Shortcut>
</c:DBMS>
<c:PhysicalDiagrams>
<o:PhysicalDiagram Id="o4">
<a:ObjectID>6958C2FD-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>PhysicalDiagram_1</a:Name>
<a:Code>PHYSICALDIAGRAM_1</a:Code>
<a:CreationDate>1081598949</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1082147935</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DisplayPreferences>
[DisplayPreferences]

[DisplayPreferences\PDM]

[DisplayPreferences\General]
Adjust to text=Yes
Snap Grid=No
Display Grid=No
Show Page Delimiter=Yes
Grid size=800
Graphic unit=0
Window color=255 255 255

[DisplayPreferences\Object]
Mode=0
Trunc Length=80
Word Length=80
Word Text=!&quot;&quot;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_`{|}~
Shortcut IntIcon=Yes
Shortcut IntLoct=No
Shortcut ExtIcon=Yes
Shortcut ExtLoct=No
File Location=No
TablColn=No
ColnMode=0
ColnMax=5
TablIndx=No
TablKey=No
TablTrgr=Yes
TablOwnr=No
ColnDttp=Yes
ColnDomn=No
ColnShowDomn=Yes
ColnKey=Yes
ColnIndx=Yes
ColnMand=Yes
ViewTabl=Yes
ViewColn=Yes
ViewOwnr=No
VColName=Yes
VColExpr=No
VColDttp=No
VColCMod=1
VColCMax=5
RefrName=No
RefrJoin=Yes
RefrCnam=No
RefrIntg=No
RefrImpl=No
RefrCard=No
RefrMode=2
VRefName=No
VRefJoin=No
VRefMode=0

[DisplayPreferences\Symbol]

[DisplayPreferences\Symbol\PDMPCKG]
DISPNAMEFont=arial,8,N
DISPNAMEFont color=0, 0, 0
AutoAdjustToText=Yes
Width=4800
Height=3600
Brush color=255 255 255
Fill Color=Yes
Pen=1 0 0, 0, 255
Shadow color=192 192 192
Shadow=No

[DisplayPreferences\Symbol\TABL]
DISPNAMEFont=arial,8,N
DISPNAMEFont color=0, 0, 0
TableColumnsFont=arial,8,N
TableColumnsFont color=0, 0, 0
TablePkColumnsFont=arial,8,N
TablePkColumnsFont color=0, 0, 0
TableIndexsFont=arial,8,N
TableIndexsFont color=0, 0, 0
TableKeysFont=arial,8,N
TableKeysFont color=0, 0, 0
TableTriggersFont=arial,8,N
TableTriggersFont color=0, 0, 0
AutoAdjustToText=Yes
Width=4800
Height=3600
Brush color=255 255 255
Fill Color=Yes
Pen=1 0 0, 0, 255
Shadow color=192 192 192
Shadow=No

[DisplayPreferences\Symbol\REFR]
DISPNAMEFont=arial,8,N
DISPNAMEFont color=0, 0, 0
CARDFont=arial,8,N
CARDFont color=0, 0, 0
Line style=0
Brush color=255 255 255
Fill Color=Yes
Pen=1 0 0, 0, 255
Shadow color=192 192 192
Shadow=No

[DisplayPreferences\Symbol\VREF]
DISPNAMEFont=arial,8,N
DISPNAMEFont color=0, 0, 0
Line style=0
Brush color=255 255 255
Fill Color=Yes
Pen=1 0 0, 0, 255
Shadow color=192 192 192
Shadow=No

[DisplayPreferences\Symbol\VIEW]
DISPNAMEFont=arial,8,N
DISPNAMEFont color=0, 0, 0
ViewColumnnFont=arial,8,N
ViewColumnnFont color=0, 0, 0
ViewTablesFont=arial,8,N
ViewTablesFont color=0, 0, 0
AutoAdjustToText=Yes
Width=4800
Height=3600
Brush color=255 255 255
Fill Color=Yes
Pen=1 0 0, 0, 255
Shadow color=192 192 192
Shadow=No

[DisplayPreferences\Symbol\FILO]
NAMEFont=arial,8,N
NAMEFont color=0, 0, 0
AutoAdjustToText=Yes
Width=2400
Height=2400
Brush color=255 255 255
Fill Color=No
Pen=1 0 0, 0, 255
Shadow color=192 192 192
Shadow=No

[DisplayPreferences\Symbol\USRDEPD]
OBJXSTRFont=arial,8,N
OBJXSTRFont color=0, 0, 0
Line style=0
Brush color=255 255 255
Fill Color=Yes
Pen=2 0 0 0 0
Shadow color=192 192 192
Shadow=No

[DisplayPreferences\Symbol\Free Symbol]
Free TextFont=arial,8,N
Free TextFont color=0, 0, 0
Line style=0
Brush color=255 255 255
Fill Color=Yes
Pen=1 0 0, 0, 255
Shadow color=192 192 192
Shadow=No
</a:DisplayPreferences>
<a:PaperSize>(8268, 11689)</a:PaperSize>
<a:PageMargins>((315,354), (433,354))</a:PageMargins>
<a:PageSize>9</a:PageSize>
<a:PaperSource>7</a:PaperSource>
<c:Symbols>
<o:ReferenceSymbol Id="o5">
<a:Rect>((-742446,681391), (-734722,695492))</a:Rect>
<a:ListOfPoints>((-738652,695492),(-738540,681391))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Id="o6">
<a:Rect>((-741809,690400), (-735493,700584))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o7">
<a:ObjectID>6958C2BC-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_PSI</a:Name>
<a:Code>T_PSI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081710170</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o8">
<a:ObjectID>6958C24A-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_PSI_OPE</a:Name>
<a:Code>NM_PSI_OPE</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(100)</a:DataType>
<a:Length>100</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o9">
<a:ObjectID>6958C24D-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_AER</a:Name>
<a:Code>CD_AER</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o10">
<a:ObjectID>6958C24E-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_ANU</a:Name>
<a:Code>CD_ANU</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o11">
<a:ObjectID>6958C24F-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>DS_PSI_SOM</a:Name>
<a:Code>DS_PSI_SOM</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(60)</a:DataType>
<a:Length>60</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o12">
<a:ObjectID>6958C250-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SIT_CHG_001</a:Name>
<a:Code>CD_SIT_CHG_001</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o13">
<a:ObjectID>6958C252-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SIT_PAR_001</a:Name>
<a:Code>CD_SIT_PAR_001</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o14">
<a:ObjectID>6958C253-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SIT_CHG_002</a:Name>
<a:Code>CD_SIT_CHG_002</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o15">
<a:ObjectID>6958C255-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SIT_PAR_002</a:Name>
<a:Code>CD_SIT_PAR_002</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o16">
<a:ObjectID>6958C256-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SIT_CHG_CON</a:Name>
<a:Code>CD_SIT_CHG_CON</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o17">
<a:ObjectID>6958C258-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SIT_PAR_CON</a:Name>
<a:Code>CD_SIT_PAR_CON</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o18">
<a:ObjectID>6958C259-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_PSI_GTV</a:Name>
<a:Code>FL_PSI_GTV</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DefaultValue>/****** Object:  Default dbo.DF_VAL_ZRO    Script Date: 7/8/2000 12:14:36 ******/
Create Default        DF_VAL_ZRO As
0</a:DefaultValue>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o19">
<a:ObjectID>6958C25B-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>HR_PSI_GTV</a:Name>
<a:Code>HR_PSI_GTV</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_HOR    Script Date: 7/8/2000 12:14:35 ******/
Create Rule        RU_HOR As
DATEPART(yy,@data) = 1900 AND
DATEPART(mm,@data) = 1 AND
DATEPART(dd,@data) = 1 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>datetime</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o20">
<a:ObjectID>6958C25C-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_PSI_GTV</a:Name>
<a:Code>QT_PSI_GTV</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o21">
<a:ObjectID>6958C25E-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_PSI_OPE</a:Name>
<a:Code>QT_PSI_OPE</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o22">
<a:ObjectID>6958C25F-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_PSI_VOO</a:Name>
<a:Code>QT_PSI_VOO</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o23">
<a:ObjectID>6958C261-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_PSI_SIT_SUC</a:Name>
<a:Code>QT_PSI_SIT_SUC</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o24">
<a:ObjectID>6958C262-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_PSI_POR</a:Name>
<a:Code>QT_PSI_POR</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o25">
<a:ObjectID>6958C263-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_PSI_EST</a:Name>
<a:Code>QT_PSI_EST</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o26">
<a:ObjectID>6958C264-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_PSI_CIC</a:Name>
<a:Code>QT_PSI_CIC</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o27">
<a:ObjectID>6958C265-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_PSI_CIC_TEM</a:Name>
<a:Code>QT_PSI_CIC_TEM</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o28">
<a:ObjectID>6958C266-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_PSI_ISE</a:Name>
<a:Code>QT_PSI_ISE</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o29">
<a:ObjectID>6958C267-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_PSI_TAR_RED</a:Name>
<a:Code>QT_PSI_TAR_RED</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o30">
<a:ObjectID>6958C268-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_PSI_REP</a:Name>
<a:Code>QT_PSI_REP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o31">
<a:ObjectID>6958C269-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_PSI_SIMA</a:Name>
<a:Code>FL_PSI_SIMA</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DefaultValue>/****** Object:  Default dbo.DF_VAL_ZRO    Script Date: 7/8/2000 12:14:36 ******/
Create Default        DF_VAL_ZRO As
0</a:DefaultValue>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o32">
<a:ObjectID>6958C26A-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_PSI_SIAP</a:Name>
<a:Code>FL_PSI_SIAP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DefaultValue>/****** Object:  Default dbo.DF_VAL_ZRO    Script Date: 7/8/2000 12:14:36 ******/
Create Default        DF_VAL_ZRO As
0</a:DefaultValue>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o33">
<a:ObjectID>6958C26B-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_PSI_SIR</a:Name>
<a:Code>FL_PSI_SIR</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DefaultValue>/****** Object:  Default dbo.DF_VAL_ZRO    Script Date: 7/8/2000 12:14:36 ******/
Create Default        DF_VAL_ZRO As
0</a:DefaultValue>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o34">
<a:ObjectID>6958C26C-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_PSI_MIR_VOO</a:Name>
<a:Code>QT_PSI_MIR_VOO</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o35">
<a:ObjectID>6958C26D-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_PSI_MIR_TEM</a:Name>
<a:Code>QT_PSI_MIR_TEM</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o36">
<a:ObjectID>6958C26E-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>DS_PSI_IMG</a:Name>
<a:Code>DS_PSI_IMG</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(60)</a:DataType>
<a:Length>60</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o37">
<a:ObjectID>6958C26F-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_PSI_IMG</a:Name>
<a:Code>NM_PSI_IMG</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(30)</a:DataType>
<a:Length>30</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o38">
<a:ObjectID>6958C270-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_PSI_IMG_TEL</a:Name>
<a:Code>NM_PSI_IMG_TEL</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(30)</a:DataType>
<a:Length>30</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o39">
<a:ObjectID>6958C271-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TIMESTAMP</a:Name>
<a:Code>TIMESTAMP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>timestamp</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Keys>
<o:Key Id="o40">
<a:ObjectID>6958C273-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Pk_T_PSI</a:Name>
<a:Code>Pk_T_PSI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PhysicalOptions>
clustered</a:PhysicalOptions>
<a:ConstraintName>Pk_T_PSI</a:ConstraintName>
<c:Key.Columns>
<o:Column Ref="o8"/>
</c:Key.Columns>
</o:Key>
</c:Keys>
<c:Owner>
<o:User Id="o41">
<a:ObjectID>6958C305-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>dbo</a:Name>
<a:Code>dbo</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
</o:User>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o42">
<a:ObjectID>6958C2E6-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_PSI_TRI</a:Name>
<a:Code>T_PSI_TRI</a:Code>
<a:Text>Create Trigger T_PSI_TRI On T_PSI
For Insert As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Aeroporto»Parâmetros do Sistema: Aeroporto Integra Par. Sistema */
If (Select Count(*) From T_AER, Inserted
Where T_AER.CD_AER = Inserted.CD_AER)
 &lt;&gt;(Select Count(CD_AER) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Aeroporto&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
/* Situação»Parâmetros do Sistema: Situação de Confirmação de Chegada */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_CHG_CON)
 &lt;&gt;(Select Count(CD_SIT_CHG_CON) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
/* Situação»Parâmetros do Sistema: Situação de Confirmação de Partida */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_PAR_CON)
 &lt;&gt;(Select Count(CD_SIT_PAR_CON) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
/* Situação»Parâmetros do Sistema: Situação Inicial de Chegada do Grupo 1 */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_CHG_001)
 &lt;&gt;(Select Count(CD_SIT_CHG_001) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
/* Situação»Parâmetros do Sistema: Situação Inicial de Chegada do Grupo 2 */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_CHG_002)
 &lt;&gt;(Select Count(CD_SIT_CHG_002) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
/* Situação»Parâmetros do Sistema: Situação Inicial de Partida do Grupo 1 */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_PAR_001)
 &lt;&gt;(Select Count(CD_SIT_PAR_001) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
/* Situação»Parâmetros do Sistema: Situação Inicial de Partida do Grupo 2 */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_PAR_002)
 &lt;&gt;(Select Count(CD_SIT_PAR_002) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
/* Anunciante»Parâmetros do Sistema: Anunciante integra Par.Sistema */
If (Select Count(*) From T_ANU, Inserted
Where T_ANU.CD_ANU = Inserted.CD_ANU)
 &lt;&gt;(Select Count(CD_ANU) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Anunciante&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
/* Regra de negócio */
/* Não permitir que a situação inicial de chegada do Grupo 1 seja definida &lt;Etapa Concluída&gt; ou &lt;Cancelada&gt; */
IF (	SELECT 	COUNT(*) FROM 	INSERTED INS, T_SIT SIT
	WHERE	SIT.CD_SIT = INS.CD_SIT_CHG_001 AND 
		(SIT.FL_SIT_CON_VOO = 1 OR
		SIT.FL_SIT_CAN_VOO = 1)) &gt; 0
BEGIN
	RAISERROR 20999 &#39;Operação não executada: &lt;Situação Inicial de Chegada&gt; inválida.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

/* Não permitir que a situação inicial de partida do Grupo 1 seja definida &lt;Etapa Concluída&gt; ou &lt;Cancelada&gt; */
IF (	SELECT 	COUNT(*) FROM 	INSERTED INS, T_SIT SIT
	WHERE	SIT.CD_SIT = INS.CD_SIT_PAR_001 AND 
		(SIT.FL_SIT_CON_VOO = 1 OR
		SIT.FL_SIT_CAN_VOO = 1)) &gt;0
BEGIN
	RAISERROR 20999 &#39;Operação não executada: &lt;Situação Inicial de Partida&gt; inválida.&#39;
	ROLLBACK TRANSACTION
	RETURN

END
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>I</a:Trigger.Type>
</o:Trigger>
<o:Trigger Id="o43">
<a:ObjectID>6958C2E7-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_PSI_TRU</a:Name>
<a:Code>T_PSI_TRU</a:Code>
<a:Text>Create Trigger T_PSI_TRU On T_PSI
For Update As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
If Update (NM_PSI_OPE)
Begin
  RollBack Transaction
  RaisError 20002 &#39;Operação não executada: A informação &lt;Nome da Operadora do Aeroporto&gt; da tabela &lt;Parâmetros do Sistema&gt; não pode ser alterada.&#39;
  Return
End
If Update (CD_AER)
/* Aeroporto»Parâmetros do Sistema: Aeroporto Integra Par. Sistema */
If (Select Count(*) From T_AER, Inserted
Where T_AER.CD_AER = Inserted.CD_AER)
 &lt;&gt;(Select Count(CD_AER) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Aeroporto&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
If Update (CD_SIT_CHG_CON)
/* Situação»Parâmetros do Sistema: Situação de Confirmação de Chegada */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_CHG_CON)
 &lt;&gt;(Select Count(CD_SIT_CHG_CON) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
If Update (CD_SIT_PAR_CON)
/* Situação»Parâmetros do Sistema: Situação de Confirmação de Partida */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_PAR_CON)
 &lt;&gt;(Select Count(CD_SIT_PAR_CON) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
If Update (CD_SIT_CHG_001)
/* Situação»Parâmetros do Sistema: Situação Inicial de Chegada do Grupo 1 */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_CHG_001)
 &lt;&gt;(Select Count(CD_SIT_CHG_001) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
If Update (CD_SIT_CHG_002)
/* Situação»Parâmetros do Sistema: Situação Inicial de Chegada do Grupo 2 */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_CHG_002)
 &lt;&gt;(Select Count(CD_SIT_CHG_002) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
If Update (CD_SIT_PAR_001)
/* Situação»Parâmetros do Sistema: Situação Inicial de Partida do Grupo 1 */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_PAR_001)
 &lt;&gt;(Select Count(CD_SIT_PAR_001) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
If Update (CD_SIT_PAR_002)
/* Situação»Parâmetros do Sistema: Situação Inicial de Partida do Grupo 2 */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_PAR_002)
 &lt;&gt;(Select Count(CD_SIT_PAR_002) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
If Update (CD_ANU)
/* Anunciante»Parâmetros do Sistema: Anunciante integra Par.Sistema */
If (Select Count(*) From T_ANU, Inserted
Where T_ANU.CD_ANU = Inserted.CD_ANU)
 &lt;&gt;(Select Count(CD_ANU) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Anunciante&gt; que se deseja incluir na tabela &lt;Parâmetros do Sistema&gt; não está cadastrada&#39;
  Return
End
/* Regra de negócio */
/* Não permitir que a situação inicial de chegada do Grupo 1 seja definida &lt;Etapa Concluída&gt; ou &lt;Cancelada&gt; */
IF (	SELECT 	COUNT(*) FROM 	INSERTED INS, T_SIT SIT
	WHERE	SIT.CD_SIT = INS.CD_SIT_CHG_001 AND 
		(SIT.FL_SIT_CON_VOO = 1 OR
		SIT.FL_SIT_CAN_VOO = 1)) &gt; 0
BEGIN
	RAISERROR 20999 &#39;Operação não executada: &lt;Situação Inicial de Chegada&gt; inválida.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

/* Não permitir que a situação inicial de partida do Grupo 1 seja definida &lt;Etapa Concluída&gt; ou &lt;Cancelada&gt; */
IF (	SELECT 	COUNT(*) FROM 	INSERTED INS, T_SIT SIT
	WHERE	SIT.CD_SIT = INS.CD_SIT_PAR_001 AND 
		(SIT.FL_SIT_CON_VOO = 1 OR
		SIT.FL_SIT_CAN_VOO = 1)) &gt; 0
BEGIN
	RAISERROR 20999 &#39;Operação não executada: &lt;Situação Inicial de Partida&gt; inválida.&#39;
	ROLLBACK TRANSACTION
	RETURN

END
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>U</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
<c:PrimaryKey>
<o:Key Ref="o40"/>
</c:PrimaryKey>
</o:Table>
</c:Object>
</o:TableSymbol>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Id="o44">
<a:Rect>((-741599,679076), (-734973,683622))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o45">
<a:ObjectID>6958C247-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_AER</a:Name>
<a:Code>T_AER</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081709419</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o46">
<a:ObjectID>6958C2F7-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_AER</a:Name>
<a:Code>CD_AER</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o47">
<a:ObjectID>6958C2F8-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_AER</a:Name>
<a:Code>NM_AER</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(40)</a:DataType>
<a:Length>40</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o48">
<a:ObjectID>6958C2F9-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>SG_AER_IAT</a:Name>
<a:Code>SG_AER_IAT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(3)</a:DataType>
<a:Length>3</a:Length>
</o:Column>
<o:Column Id="o49">
<a:ObjectID>6958C2FA-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NR_AER_TEL_CHG</a:Name>
<a:Code>NR_AER_TEL_CHG</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DefaultValue>/****** Object:  Default dbo.DF_VAL_001    Script Date: 7/8/2000 12:14:36 ******/
Create Default        DF_VAL_001 As
1</a:DefaultValue>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o50">
<a:ObjectID>6958C2FC-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NR_AER_TEL_PAR</a:Name>
<a:Code>NR_AER_TEL_PAR</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DefaultValue>/****** Object:  Default dbo.DF_VAL_001    Script Date: 7/8/2000 12:14:36 ******/
Create Default        DF_VAL_001 As
1</a:DefaultValue>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o51">
<a:ObjectID>6958C2FE-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TP_AER_CTG</a:Name>
<a:Code>TP_AER_CTG</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>tinyint</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o52">
<a:ObjectID>6958C300-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_CID</a:Name>
<a:Code>CD_CID</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o53">
<a:ObjectID>6958C302-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TIMESTAMP</a:Name>
<a:Code>TIMESTAMP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>timestamp</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Keys>
<o:Key Id="o54">
<a:ObjectID>6958C307-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Pk_T_AER</a:Name>
<a:Code>Pk_T_AER</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PhysicalOptions>
clustered</a:PhysicalOptions>
<a:ConstraintName>Pk_T_AER</a:ConstraintName>
<c:Key.Columns>
<o:Column Ref="o46"/>
</c:Key.Columns>
</o:Key>
</c:Keys>
<c:Indexes>
<o:Index Id="o55">
<a:ObjectID>6958C306-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>I_AER_ICA</a:Name>
<a:Code>I_AER_ICA</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081709419</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Unique>1</a:Unique>
</o:Index>
</c:Indexes>
<c:Owner>
<o:User Ref="o41"/>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o56">
<a:ObjectID>6958C2DF-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_AER_TRD</a:Name>
<a:Code>T_AER_TRD</a:Code>
<a:Text>Create Trigger T_AER_TRD On T_AER
For Delete As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Aeroporto»Chegadas - Mirror: Aeroporto da Chegada (Restrict) */
If (Select Count(*) From T_CHG_MIR dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Chegadas - Mirror&gt;&#39;
  Return
End
/* Aeroporto»Chegadas: Aeroporto da Chegada (Restrict) */
If (Select Count(*) From T_CHG dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Chegadas&gt;&#39;
  Return
End
/* Aeroporto»Escala da Chegada de Vôo - Mirror: Aeroporto da Escala de Partida (Restrict) */
If (Select Count(*) From T_ECC001_MIR dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Escala da Chegada de Vôo - Mirror&gt;&#39;
  Return
End
/* Aeroporto»Escala da Partida de Vôo - Mirror: Aeroporto da Escala de Partida (Restrict) */
If (Select Count(*) From T_ECP001_MIR dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Escala da Partida de Vôo - Mirror&gt;&#39;
  Return
End
/* Aeroporto»Partidas - Mirror: Aeroporto da Partida (Restrict) */
If (Select Count(*) From T_PAR_MIR dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Partidas - Mirror&gt;&#39;
  Return
End
/* Aeroporto»Partidas: Aeroporto da Partida (Restrict) */
If (Select Count(*) From T_PAR dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Partidas&gt;&#39;
  Return
End
/* Aeroporto»Tela: Aeroporto das Telas (Restrict) */
If (Select Count(*) From T_TEL dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Tela&gt;&#39;
  Return
End
/* Aeroporto»Hotran - Etapa: Aeroporto Destino (Restrict) */
If (Select Count(*) From T_HET dep, Deleted pri
 Where dep.SG_AER_DES = pri.SG_AER_ICA) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Hotran - Etapa&gt;&#39;
  Return
End
/* Aeroporto»Histórico de Permanência de Aeronaves - Mirror: Aeroporto do HPA (Restrict) */
If (Select Count(*) From T_HPA001_MIR dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Histórico de Permanência de Aeronaves - Mirror&gt;&#39;
  Return
End
/* Aeroporto»Histórico de Permanência de Aeronaves: Aeroporto do HPA (Restrict) */
If (Select Count(*) From T_HPA001 dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Histórico de Permanência de Aeronaves&gt;&#39;
  Return
End
/* Aeroporto»Dados Estatísticos de Partida - Mirror: Aeroporto está em (Restrict) */
If (Select Count(*) From T_DEP_MIR dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Dados Estatísticos de Partida - Mirror&gt;&#39;
  Return
End
/* Aeroporto»Escala da Chegada de Vôo: Aeroporto integra ECC (Restrict) */
If (Select Count(*) From T_ECC001 dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Escala da Chegada de Vôo&gt;&#39;
  Return
End
/* Aeroporto»Escala da Partida de Vôo: Aeroporto integra ECP (Restrict) */
If (Select Count(*) From T_ECP001 dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Escala da Partida de Vôo&gt;&#39;
  Return
End
/* Aeroporto»Parâmetros do Sistema: Aeroporto Integra Par. Sistema (Restrict) */
If (Select Count(*) From T_PSI dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Parâmetros do Sistema&gt;&#39;
  Return
End
/* Aeroporto»Hotran - Etapa: Aeroporto Origem (Restrict) */
If (Select Count(*) From T_HET dep, Deleted pri
 Where dep.SG_AER_ORI = pri.SG_AER_ICA) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Hotran - Etapa&gt;&#39;
  Return
End
/* Aeroporto»Propaganda: Aeroporto Possui Propagandas (Restrict) */
If (Select Count(*) From T_PRG dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Propaganda&gt;&#39;
  Return
End
/* Aeroporto»Dados Estatísticos de Partida: Está em (Restrict) */
If (Select Count(*) From T_DEP dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Aeroporto&gt; está sendo referenciada na tabela &lt;Dados Estatísticos de Partida&gt;&#39;
  Return
End
/* Aeroporto»Horário Comercial: Aer. possui Horário Comercial (Cascade) */
Delete T_HRC From T_HRC dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER
/* Aeroporto»Box: Aeroporto possui Boxes (Cascade) */
Delete T_BOX From T_BOX dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER
/* Aeroporto»Checkin: Aeroporto possui Checkins (Cascade) */
Delete T_CHK From T_CHK dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER
/* Aeroporto»Esteira: Aeroporto possui Esteiras (Cascade) */
Delete T_EST From T_EST dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER
/* Aeroporto»Pistas de Decolagem: Aeroporto possui Pista (Cascade) */
Delete T_PIS From T_PIS dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER
/* Aeroporto»Ponte de Embarque: Aeroporto possui Pista de Embarque (Cascade) */
Delete T_PON From T_PON dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER
/* Aeroporto»Portão: Aeroporto possui Portões (Cascade) */
Delete T_POR From T_POR dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER
/* Aeroporto»Sala de Desembarque: Aeroporto possui Sal.Desemb. (Cascade) */
Delete T_SAL From T_SAL dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER
/* Aeroporto»Sala de Embarque: Aeroporto possui SalasEmbarque (Cascade) */
Delete T_EMB From T_EMB dep, Deleted pri
 Where dep.CD_AER = pri.CD_AER
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>D</a:Trigger.Type>
</o:Trigger>
<o:Trigger Id="o57">
<a:ObjectID>6958C2E1-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_AER_TRI</a:Name>
<a:Code>T_AER_TRI</a:Code>
<a:Text>Create Trigger T_AER_TRI On T_AER
For Insert As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Cidade»Aeroporto: Cidade possui Aeroportos */
If (Select Count(*) From T_CID, Inserted
Where T_CID.CD_CID = Inserted.CD_CID)
 &lt;&gt;(Select Count(CD_CID) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Cidade&gt; que se deseja incluir na tabela &lt;Aeroporto&gt; não está cadastrada&#39;
  Return
End
/* Domínio de: Categoria do Aeroporto */
/* 1 - Não se aplica */
/* 2 - 1ª Categoria */
/* 3 - 2ª Categoria */
/* 4 - 3ª Categoria */
/* 5 - 4ª Categoria */
If (Select Count(*) From Inserted
    Where TP_AER_CTG In (1,2,3,4,5))
 &lt;&gt;(Select Count(*) From Inserted)
Begin
  RollBack Transaction
  RaisError 20004 &#39;Operação não executada: A informação &lt;Categoria do Aeroporto&gt; que se deseja incluir na tabela &lt;Aeroporto&gt; não é uma opção válida&#39;
  Return
End
/* Regra de negócio */
/* Verificar se já existe algum Aeroporto com a sigla IATA do Aeroporto que se está incluindo */
IF (	SELECT	COUNT(*)
	FROM	T_AER AER, 
		INSERTED INS
	WHERE	AER.CD_AER &lt;&gt; INS.CD_AER AND
		AER.SG_AER_IAT = INS.SG_AER_IAT AND
		INS.SG_AER_IAT IS NOT NULL) &gt; 0
BEGIN
	RAISERROR 20310 &#39;Operação não executada: Já existe um Aeroporto cadastrado com esta sigla IATA.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>I</a:Trigger.Type>
</o:Trigger>
<o:Trigger Id="o58">
<a:ObjectID>6958C2E3-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_AER_TRU</a:Name>
<a:Code>T_AER_TRU</a:Code>
<a:Text>Create Trigger T_AER_TRU On T_AER
For Update As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
If Update (CD_AER)
Begin
  RollBack Transaction
  RaisError 20002 &#39;Operação não executada: A informação &lt;Código do Aeroporto&gt; da tabela &lt;Aeroporto&gt; não pode ser alterada.&#39;
  Return
End
If Update (CD_CID)
/* Cidade»Aeroporto: Cidade possui Aeroportos */
If (Select Count(*) From T_CID, Inserted
Where T_CID.CD_CID = Inserted.CD_CID)
 &lt;&gt;(Select Count(CD_CID) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Cidade&gt; que se deseja incluir na tabela &lt;Aeroporto&gt; não está cadastrada&#39;
  Return
End
If Update (TP_AER_CTG)
/* Domínio de: Categoria do Aeroporto */
/* 1 - Não se aplica */
/* 2 - 1ª Categoria */
/* 3 - 2ª Categoria */
/* 4 - 3ª Categoria */
/* 5 - 4ª Categoria */
If (Select Count(*) From Inserted
    Where TP_AER_CTG In (1,2,3,4,5))
 &lt;&gt;(Select Count(*) From Inserted)
Begin
  RollBack Transaction
  RaisError 20004 &#39;Operação não executada: A informação &lt;Categoria do Aeroporto&gt; que se deseja incluir na tabela &lt;Aeroporto&gt; não é uma opção válida&#39;
  Return
End
/* Regra de negócio */
/* Verificar se já existe algum Aeroporto cadastrado com a sigla IATA do Aeroporto que se está alterando */
IF (	SELECT	COUNT(*)
	FROM	T_AER AER, 
		INSERTED INS
	WHERE	AER.CD_AER &lt;&gt; INS.CD_AER AND
		AER.SG_AER_IAT = INS.SG_AER_IAT AND
		INS.SG_AER_IAT IS NOT NULL) &gt; 0
BEGIN
	RAISERROR 20310 &#39;Operação não executada: Já existe um Aeroporto cadastrado com esta sigla IATA.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

/* Caso a sigla ICAO do aeroporto seja alterada, alterar os campos SG_AER_DES E SG_AER_ORI da tabela T_HET */
IF UPDATE(SG_AER_ICA)
BEGIN
	UPDATE	HET
	SET	SG_AER_DES = INS.SG_AER_ICA
	FROM	T_HET HET, INSERTED INS, DELETED DEL
	WHERE	INS.CD_AER = DEL.CD_AER AND
		HET.SG_AER_DES = DEL.SG_AER_ICA

	UPDATE	HET
	SET	SG_AER_ORI = INS.SG_AER_ICA
	FROM	T_HET HET, INSERTED INS, DELETED DEL
	WHERE	INS.CD_AER = DEL.CD_AER AND
		HET.SG_AER_ORI = DEL.SG_AER_ICA
END

IF UPDATE(SG_AER_ICA) OR UPDATE(SG_AER_IAT)
BEGIN
	/* Incluir registros em T_ACH */
	INSERT	T_ACH (DH_ACH, CD_CHG)
	Select	GETDATE(), ECC.CD_CHG
	From	T_ECC001 ECC, T_AER AER, INSERTED INS
	Where	ECC.CD_CHG IN (	Select 	CD_CHG
				From 	T_CHG CHG
				Where	CHG.TP_CHG_STA = 1 And
					CHG.CD_AER = (Select CD_AER From T_PSI)) AND
		AER.CD_AER = ECC.CD_AER AND
		AER.CD_AER = INS.CD_AER

	/* Incluir registros em T_APA */
	INSERT	T_APA (DH_APA, CD_PAR)
	Select	GETDATE(), ECP.CD_PAR
	From	T_ECP001 ECP, T_AER AER, INSERTED INS
	Where	ECP.CD_PAR IN (	Select 	CD_PAR
				From 	T_PAR PAR
				Where	PAR.TP_PAR_STA = 1 And
					PAR.CD_AER = (Select CD_AER From T_PSI)) AND
		AER.CD_AER = ECP.CD_AER AND
		AER.CD_AER = INS.CD_AER
END

IF UPDATE(SG_AER_IAT)
BEGIN
	/* Incluir registros em T_AHO */
	INSERT	T_AHO (CD_HOT, DH_AHO)
	Select	DISTINCT CD_HOT, GETDATE()
	From	T_HET HET, INSERTED INS
	Where	HET.SG_AER_ORI = INS.SG_AER_ICA OR
		HET.SG_AER_DES = INS.SG_AER_ICA

	-- Alexei alterou em 05/01/00
	-- Não permitir a alteração da sigla IATA para NULO se o aeroporto estiver em alguma etapa de hotran
	IF (	Select	Count(*)
		from	T_Het Het
		,	Inserted Ins
		where	(Het.SG_AER_ORI = Ins.SG_AER_ICA
		or	Het.SG_AER_DES = Ins.SG_AER_ICA)
		and	Ins.SG_AER_IAT is NULL) &gt; 0
	BEGIN
		RAISERROR 20999 &#39;Operação não executada: O aeroporto não pode ter sigla IATA nula pois está sendo utilizado em etapa de hotran.&#39;
		ROLLBACK TRANSACTION
		RETURN
	END
	-- Fim Alteração Alexei em 05/01/00

END
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>U</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
<c:PrimaryKey>
<o:Key Ref="o54"/>
</c:PrimaryKey>
</o:Table>
</c:Object>
</o:TableSymbol>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o59">
<a:ObjectID>6958C2D5-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_1</a:Name>
<a:Code>REFERENCE_1</a:Code>
<a:CreationDate>1081599140</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081599140</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o45"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o7"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o54"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o60">
<a:ObjectID>6958C2D6-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081599140</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081599140</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o46"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o9"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o61">
<a:Rect>((-742320,695919), (-734596,711596))</a:Rect>
<a:ListOfPoints>((-738454,695919),(-738463,711596))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Ref="o6"/>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Id="o62">
<a:Rect>((-741775,709795), (-735149,713395))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o63">
<a:ObjectID>6958C24C-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_ANU</a:Name>
<a:Code>T_ANU</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o64">
<a:ObjectID>6958C308-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_ANU</a:Name>
<a:Code>CD_ANU</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o65">
<a:ObjectID>6958C309-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_ANU</a:Name>
<a:Code>NM_ANU</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(40)</a:DataType>
<a:Length>40</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o66">
<a:ObjectID>6958C30A-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TIMESTAMP</a:Name>
<a:Code>TIMESTAMP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>timestamp</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Keys>
<o:Key Id="o67">
<a:ObjectID>6958C30B-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Pk_T_ANU</a:Name>
<a:Code>Pk_T_ANU</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PhysicalOptions>
clustered</a:PhysicalOptions>
<a:ConstraintName>Pk_T_ANU</a:ConstraintName>
<c:Key.Columns>
<o:Column Ref="o64"/>
</c:Key.Columns>
</o:Key>
</c:Keys>
<c:Owner>
<o:User Ref="o41"/>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o68">
<a:ObjectID>6958C2E4-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_ANU_TRD</a:Name>
<a:Code>T_ANU_TRD</a:Code>
<a:Text>Create Trigger T_ANU_TRD On T_ANU
For Delete As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Anunciante»Parâmetros do Sistema: Anunciante integra Par.Sistema (Restrict) */
If (Select Count(*) From T_PSI dep, Deleted pri
 Where dep.CD_ANU = pri.CD_ANU) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Anunciante&gt; está sendo referenciada na tabela &lt;Parâmetros do Sistema&gt;&#39;
  Return
End
/* Anunciante»Propaganda: Anunciante Possui Propaganda (Restrict) */
If (Select Count(*) From T_PRG dep, Deleted pri
 Where dep.CD_ANU = pri.CD_ANU) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Anunciante&gt; está sendo referenciada na tabela &lt;Propaganda&gt;&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>D</a:Trigger.Type>
</o:Trigger>
<o:Trigger Id="o69">
<a:ObjectID>6958C2E5-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_ANU_TRU</a:Name>
<a:Code>T_ANU_TRU</a:Code>
<a:Text>Create Trigger T_ANU_TRU On T_ANU
For Update As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
If Update (CD_ANU)
Begin
  RollBack Transaction
  RaisError 20002 &#39;Operação não executada: A informação &lt;Código do Anunciante&gt; da tabela &lt;Anunciante&gt; não pode ser alterada.&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>U</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
<c:PrimaryKey>
<o:Key Ref="o67"/>
</c:PrimaryKey>
</o:Table>
</c:Object>
</o:TableSymbol>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o70">
<a:ObjectID>6958C2D7-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_3</a:Name>
<a:Code>REFERENCE_3</a:Code>
<a:CreationDate>1081599140</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081599140</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o63"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o7"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o67"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o71">
<a:ObjectID>6958C2D8-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081599140</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081599140</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o64"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o10"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o72">
<a:CenterTextOffset>(8, 0)</a:CenterTextOffset>
<a:Rect>((-739992,697912), (-718890,722247))</a:Rect>
<a:ListOfPoints>((-739992,722247),(-718890,697912))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Id="o73">
<a:Rect>((-742721,719342), (-736095,722942))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o74">
<a:ObjectID>6958C2C6-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_SCA</a:Name>
<a:Code>T_SCA</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081601226</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o75">
<a:ObjectID>6958C289-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SCA</a:Name>
<a:Code>CD_SCA</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o76">
<a:ObjectID>6958C28A-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SIT</a:Name>
<a:Code>CD_SIT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o77">
<a:ObjectID>6958C28B-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SIT_ANT</a:Name>
<a:Code>CD_SIT_ANT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o78">
<a:ObjectID>6958C28C-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TIMESTAMP</a:Name>
<a:Code>TIMESTAMP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>timestamp</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Keys>
<o:Key Id="o79">
<a:ObjectID>6958C292-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Pk_T_SCA</a:Name>
<a:Code>Pk_T_SCA</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PhysicalOptions>
clustered</a:PhysicalOptions>
<a:ConstraintName>Pk_T_SCA</a:ConstraintName>
<c:Key.Columns>
<o:Column Ref="o75"/>
</c:Key.Columns>
</o:Key>
</c:Keys>
<c:Indexes>
<o:Index Id="o80">
<a:ObjectID>6958C28D-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>I_SCA_SIT</a:Name>
<a:Code>I_SCA_SIT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Unique>1</a:Unique>
<c:IndexColumns>
<o:IndexColumn Id="o81">
<a:ObjectID>6958C28E-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:IndexColumn.Expression>&lt;Index Expression_0&gt;</a:IndexColumn.Expression>
<c:Column>
<o:Column Ref="o76"/>
</c:Column>
</o:IndexColumn>
<o:IndexColumn Id="o82">
<a:ObjectID>6958C290-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:IndexColumn.Expression>&lt;Index Expression_1&gt;</a:IndexColumn.Expression>
<c:Column>
<o:Column Ref="o77"/>
</c:Column>
</o:IndexColumn>
</c:IndexColumns>
</o:Index>
</c:Indexes>
<c:Owner>
<o:User Ref="o41"/>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o83">
<a:ObjectID>6958C2EB-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_SCA_TRI</a:Name>
<a:Code>T_SCA_TRI</a:Code>
<a:Text>Create Trigger T_SCA_TRI On T_SCA
For Insert As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Situação»Situação Condicionante do Vôo Antecessor: Situação */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT)
 &lt;&gt;(Select Count(CD_SIT) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Situação Condicionante do Vôo Antecessor&gt; não está cadastrada&#39;
  Return
End
/* Situação»Situação Condicionante do Vôo Antecessor: Situação Antecessora */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_ANT)
 &lt;&gt;(Select Count(CD_SIT_ANT) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Situação Condicionante do Vôo Antecessor&gt; não está cadastrada&#39;
  Return
End
/* Regra de negócio */
/* A situação principal tem de ser de partida */
IF (	SELECT	COUNT(*)
	FROM	INSERTED INS,
		T_SIT SIT
	WHERE	SIT.CD_SIT = INS.CD_SIT AND
		SIT.FL_SIT_PAR = 0) &gt; 0
BEGIN
	RAISERROR 20311 &#39;Operação não executada: A situação principal tem que ser de partida.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

/* A situação condicionante tem de ser de chegada */
IF (	SELECT	COUNT(*)
	FROM	INSERTED INS,
		T_SIT SIT
	WHERE	SIT.CD_SIT = INS.CD_SIT_ANT AND
		SIT.FL_SIT_CHG = 0) &gt; 0
BEGIN
	RAISERROR 20311 &#39;Operação não executada: A situação condicionante tem que ser de chegada.&#39;
	ROLLBACK TRANSACTION
	RETURN

END

End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>I</a:Trigger.Type>
</o:Trigger>
<o:Trigger Id="o84">
<a:ObjectID>6958C2EC-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_SCA_TRU</a:Name>
<a:Code>T_SCA_TRU</a:Code>
<a:Text>Create Trigger T_SCA_TRU On T_SCA
For Update As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
If Update (CD_SCA)
Begin
  RollBack Transaction
  RaisError 20002 &#39;Operação não executada: A informação &lt;Código da Situação Condicionante do Vôo Antecessor&gt; da tabela &lt;Situação Condicionante do Vôo Antecessor&gt; não pode ser alterada.&#39;
  Return
End
If Update (CD_SIT)
/* Situação»Situação Condicionante do Vôo Antecessor: Situação */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT)
 &lt;&gt;(Select Count(CD_SIT) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Situação Condicionante do Vôo Antecessor&gt; não está cadastrada&#39;
  Return
End
If Update (CD_SIT_ANT)
/* Situação»Situação Condicionante do Vôo Antecessor: Situação Antecessora */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_ANT)
 &lt;&gt;(Select Count(CD_SIT_ANT) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Situação Condicionante do Vôo Antecessor&gt; não está cadastrada&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>U</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
<c:PrimaryKey>
<o:Key Ref="o79"/>
</c:PrimaryKey>
</o:Table>
</c:Object>
</o:TableSymbol>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Id="o85">
<a:Rect>((-720994,690175), (-714678,700571))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o86">
<a:ObjectID>6958C2C9-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_SIT</a:Name>
<a:Code>T_SIT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081600773</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o87">
<a:ObjectID>6958C293-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SIT</a:Name>
<a:Code>CD_SIT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o88">
<a:ObjectID>6958C294-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_SIT_LOC</a:Name>
<a:Code>NM_SIT_LOC</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(30)</a:DataType>
<a:Length>30</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o89">
<a:ObjectID>6958C295-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_SIT_EST</a:Name>
<a:Code>NM_SIT_EST</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(30)</a:DataType>
<a:Length>30</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o90">
<a:ObjectID>6958C296-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NR_SIT_ORD</a:Name>
<a:Code>NR_SIT_ORD</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DefaultValue>/****** Object:  Default dbo.DF_VAL_ZRO    Script Date: 7/8/2000 12:14:36 ******/
Create Default        DF_VAL_ZRO As
0</a:DefaultValue>
<a:DataType>tinyint</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o91">
<a:ObjectID>6958C297-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>SG_SIT</a:Name>
<a:Code>SG_SIT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(3)</a:DataType>
<a:Length>3</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o92">
<a:ObjectID>6958C298-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_SIT_PAR</a:Name>
<a:Code>FL_SIT_PAR</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o93">
<a:ObjectID>6958C299-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_SIT_CHG</a:Name>
<a:Code>FL_SIT_CHG</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o94">
<a:ObjectID>6958C29B-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_SIT_REA</a:Name>
<a:Code>FL_SIT_REA</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o95">
<a:ObjectID>6958C29C-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_SIT_HR1</a:Name>
<a:Code>FL_SIT_HR1</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o96">
<a:ObjectID>6958C29D-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_SIT_CON_VOO</a:Name>
<a:Code>FL_SIT_CON_VOO</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o97">
<a:ObjectID>6958C29E-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_SIT_CAN_VOO</a:Name>
<a:Code>FL_SIT_CAN_VOO</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o98">
<a:ObjectID>6958C29F-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_SIT_AEN_PAT</a:Name>
<a:Code>FL_SIT_AEN_PAT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o99">
<a:ObjectID>6958C2A0-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_SIT_TOD</a:Name>
<a:Code>FL_SIT_TOD</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o100">
<a:ObjectID>6958C2A1-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TP_SIT_COM</a:Name>
<a:Code>TP_SIT_COM</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>tinyint</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o101">
<a:ObjectID>6958C2A2-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>HR_SIT_ANT</a:Name>
<a:Code>HR_SIT_ANT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>int</a:DataType>
</o:Column>
<o:Column Id="o102">
<a:ObjectID>6958C2A3-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>HR_SIT_APS</a:Name>
<a:Code>HR_SIT_APS</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>int</a:DataType>
</o:Column>
<o:Column Id="o103">
<a:ObjectID>6958C2A4-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_SIT_STF</a:Name>
<a:Code>FL_SIT_STF</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o104">
<a:ObjectID>6958C2A6-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TIMESTAMP</a:Name>
<a:Code>TIMESTAMP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>timestamp</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Keys>
<o:Key Id="o105">
<a:ObjectID>6958C2A7-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Pk_T_SIT</a:Name>
<a:Code>Pk_T_SIT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PhysicalOptions>
clustered</a:PhysicalOptions>
<a:ConstraintName>Pk_T_SIT</a:ConstraintName>
<c:Key.Columns>
<o:Column Ref="o87"/>
</c:Key.Columns>
</o:Key>
</c:Keys>
<c:Owner>
<o:User Ref="o41"/>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o106">
<a:ObjectID>6958C2ED-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_SIT_TRD</a:Name>
<a:Code>T_SIT_TRD</a:Code>
<a:Text>Create Trigger T_SIT_TRD On T_SIT
For Delete As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Situação»Situação Sucessora: É Sucessora (Restrict) */
Declare @DBBDsc varchar(255)
Select @DBBDsc = &#39;(&#39;
Select @DBBDsc = @DBBDsc+RTrim(Convert(varchar(255),PRI.NM_SIT_LOC))+&#39;, &#39; From T_SSU dep, Deleted pri
 Where dep.CD_SIT_SUC = pri.CD_SIT
If DataLength(@DBBDsc) &gt; 1
Begin
  RollBack Transaction
  If DataLength(@DBBDsc) &gt; 252
    Select @DBBDsc = Substring(@DBBDsc,1,252)+&#39;...&#39;
  Else
    Select @DBBDsc = Substring(@DBBDsc,1,DataLength(@DBBDsc)-2)
  Select @DBBDsc = &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Situação Sucessora&gt; &#39;+@DBBDsc+&#39;)&#39;
  RaisError 20003 @DBBDsc
  Return
End
/* Situação»Situação Condicionante do Vôo Antecessor: Situação Antecessora (Restrict) */
If (Select Count(*) From T_SCA dep, Deleted pri
 Where dep.CD_SIT_ANT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Situação Condicionante do Vôo Antecessor&gt;&#39;
  Return
End
/* Situação»Chegadas - Mirror: Situação da Chegada (Restrict) */
If (Select Count(*) From T_CHG_MIR dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Chegadas - Mirror&gt;&#39;
  Return
End
/* Situação»Chegadas: Situação da Chegada (Restrict) */
If (Select Count(*) From T_CHG dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Chegadas&gt;&#39;
  Return
End
/* Situação»Mensagem de Chegada: Situação da Mensagem de Chegada (Restrict) */
If (Select Count(*) From T_MCH dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Mensagem de Chegada&gt;&#39;
  Return
End
/* Situação»Mensagem de Partida - Mirror: Situação da Mensagem de Partida (Restrict) */
If (Select Count(*) From T_MPA_MIR dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Mensagem de Partida - Mirror&gt;&#39;
  Return
End
/* Situação»Mensagem de Partida: Situação da Mensagem de Partida (Restrict) */
If (Select Count(*) From T_MPA dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Mensagem de Partida&gt;&#39;
  Return
End
/* Situação»Partidas - Mirror: Situação da Partida (Restrict) */
If (Select Count(*) From T_PAR_MIR dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Partidas - Mirror&gt;&#39;
  Return
End
/* Situação»Partidas: Situação da Partida (Restrict) */
If (Select Count(*) From T_PAR dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Partidas&gt;&#39;
  Return
End
/* Situação»Programação de Anúncios: Situação da Programação (Restrict) */
If (Select Count(*) From T_PRA dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Programação de Anúncios&gt;&#39;
  Return
End
/* Situação»Mensagens: Situação das Mensagens (Restrict) */
If (Select Count(*) From T_MSG dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Mensagens&gt;&#39;
  Return
End
/* Situação»Parâmetros do Sistema: Situação de Confirmação de Chegada (Restrict) */
If (Select Count(*) From T_PSI dep, Deleted pri
 Where dep.CD_SIT_CHG_CON = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Parâmetros do Sistema&gt;&#39;
  Return
End
/* Situação»Parâmetros do Sistema: Situação de Confirmação de Partida (Restrict) */
If (Select Count(*) From T_PSI dep, Deleted pri
 Where dep.CD_SIT_PAR_CON = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Parâmetros do Sistema&gt;&#39;
  Return
End
/* Situação»Mensagem de Chegada - Mirror: Situação de Mensagem de Chegada (Restrict) */
If (Select Count(*) From T_MCH_MIR dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Mensagem de Chegada - Mirror&gt;&#39;
  Return
End
/* Situação»Histórico de Situação de Vôo de Chegada - Mirror: Situação do HSC (Restrict) */
If (Select Count(*) From T_HSC_MIR dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Histórico de Situação de Vôo de Chegada - Mirror&gt;&#39;
  Return
End
/* Situação»Histórico de Situação de Vôo de Chegada: Situação do HSC (Restrict) */
If (Select Count(*) From T_HSC dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Histórico de Situação de Vôo de Chegada&gt;&#39;
  Return
End
/* Situação»Histórico de Situação de Vôo de Partida - Mirror: Situação do HSP (Restrict) */
If (Select Count(*) From T_HSP_MIR dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Histórico de Situação de Vôo de Partida - Mirror&gt;&#39;
  Return
End
/* Situação»Histórico de Situação de Vôo de Partida: Situação do HSP (Restrict) */
If (Select Count(*) From T_HSP dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Histórico de Situação de Vôo de Partida&gt;&#39;
  Return
End
/* Situação»Parâmetros do Sistema: Situação Inicial de Chegada do Grupo 1 (Restrict) */
If (Select Count(*) From T_PSI dep, Deleted pri
 Where dep.CD_SIT_CHG_001 = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Parâmetros do Sistema&gt;&#39;
  Return
End
/* Situação»Parâmetros do Sistema: Situação Inicial de Chegada do Grupo 2 (Restrict) */
If (Select Count(*) From T_PSI dep, Deleted pri
 Where dep.CD_SIT_CHG_002 = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Parâmetros do Sistema&gt;&#39;
  Return
End
/* Situação»Parâmetros do Sistema: Situação Inicial de Partida do Grupo 1 (Restrict) */
If (Select Count(*) From T_PSI dep, Deleted pri
 Where dep.CD_SIT_PAR_001 = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Parâmetros do Sistema&gt;&#39;
  Return
End
/* Situação»Parâmetros do Sistema: Situação Inicial de Partida do Grupo 2 (Restrict) */
If (Select Count(*) From T_PSI dep, Deleted pri
 Where dep.CD_SIT_PAR_002 = pri.CD_SIT) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Situação&gt; está sendo referenciada na tabela &lt;Parâmetros do Sistema&gt;&#39;
  Return
End
/* Situação»Situação Sucessora: Possui Sucessora (Cascade) */
Delete T_SSU From T_SSU dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT
/* Situação»Situação Condicionante do Vôo Antecessor: Situação (Cascade) */
Delete T_SCA From T_SCA dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT
/* Situação»Telas da Situação: Telas da Situação (Cascade) */
Delete T_TSI From T_TSI dep, Deleted pri
 Where dep.CD_SIT = pri.CD_SIT
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>D</a:Trigger.Type>
</o:Trigger>
<o:Trigger Id="o107">
<a:ObjectID>6958C2EE-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_SIT_TRI</a:Name>
<a:Code>T_SIT_TRI</a:Code>
<a:Text>Create Trigger T_SIT_TRI On T_SIT
For Insert As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Domínio de: Tipo de Complemento da Sitação */
/* 1 - Hora */
/* 2 - Texto */
/* 3 - Nenhum */
If (Select Count(*) From Inserted
    Where TP_SIT_COM In (1,2,3))
 &lt;&gt;(Select Count(*) From Inserted)
Begin
  RollBack Transaction
  RaisError 20004 &#39;Operação não executada: A informação &lt;Tipo de Complemento da Sitação&gt; que se deseja incluir na tabela &lt;Situação&gt; não é uma opção válida&#39;
  Return
End
/* Regra de negócio */
/* Verificar se há alguma situação que não seja nem de Chegada nem de Partida */
IF (	SELECT	COUNT(*)
	FROM	T_SIT SIT,
		INSERTED INS
	WHERE	SIT.CD_SIT = INS.CD_SIT AND
		INS.FL_SIT_CHG = 0 AND 
		INS.FL_SIT_PAR = 0) &gt; 0
BEGIN
	RAISERROR 20310 &#39;Operação não executada: Uma situação deve ser de chegada ou de partida ou de ambas.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

/* Se existir mais de uma situação de ETAPA CONCLUÍDA não atualiza*/
IF (	SELECT 	COUNT(*) 
	FROM 	T_SIT SIT,
		INSERTED INS
	WHERE 	SIT.CD_SIT &lt;&gt; INS.CD_SIT AND
		SIT.FL_SIT_CON_VOO = 1 AND
		(SIT.FL_SIT_CHG = INS.FL_SIT_CHG OR SIT.FL_SIT_PAR = INS.FL_SIT_PAR) AND
		INS.FL_SIT_CON_VOO = 1) &gt; 0
BEGIN
	RAISERROR 20310 &#39;Operação não executada: Só pode existir uma única situação de vôo do tipo ETAPA CONCLUÍDA.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

/* Se existir mais de uma situação do tipo CANCELADO não atualiza*/
IF (	SELECT 	COUNT(*) 
	FROM 	T_SIT SIT,
		INSERTED INS
	WHERE 	SIT.CD_SIT &lt;&gt; INS.CD_SIT AND
		SIT.FL_SIT_CAN_VOO = 1 AND
		(SIT.FL_SIT_CHG = INS.FL_SIT_CHG OR SIT.FL_SIT_PAR = INS.FL_SIT_PAR) AND
		INS.FL_SIT_CAN_VOO = 1 ) &gt; 0
BEGIN
	RAISERROR 20310 &#39;Operação não executada: Só pode existir uma única  situação de vôo do tipo ETAPA CANCELADA.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

/* Se existir mais de uma situação do tipo AERONAVE NO PÁTIO não atualiza*/
IF (	SELECT 	COUNT(*) 
	FROM 	T_SIT SIT
	WHERE 	SIT.FL_SIT_AEN_PAT = 1) &gt; 1
BEGIN
	RAISERROR 20310 &#39;Operação não executada: Só pode existir uma única  situação de vôo do tipo AERONAVE NO PÁTIO.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>I</a:Trigger.Type>
</o:Trigger>
<o:Trigger Id="o108">
<a:ObjectID>6958C2EF-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_SIT_TRU</a:Name>
<a:Code>T_SIT_TRU</a:Code>
<a:Text>Create Trigger T_SIT_TRU On T_SIT
For Update As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
If Update (CD_SIT)
Begin
  RollBack Transaction
  RaisError 20002 &#39;Operação não executada: A informação &lt;Código da Situação do Vôo&gt; da tabela &lt;Situação&gt; não pode ser alterada.&#39;
  Return
End
If Update (TP_SIT_COM)
/* Domínio de: Tipo de Complemento da Sitação */
/* 1 - Hora */
/* 2 - Texto */
/* 3 - Nenhum */
If (Select Count(*) From Inserted
    Where TP_SIT_COM In (1,2,3))
 &lt;&gt;(Select Count(*) From Inserted)
Begin
  RollBack Transaction
  RaisError 20004 &#39;Operação não executada: A informação &lt;Tipo de Complemento da Sitação&gt; que se deseja incluir na tabela &lt;Situação&gt; não é uma opção válida&#39;
  Return
End
/* Regra de negócio */
/* Verificar se há alguma situação que não seja nem de Chegada nem de Partida */
IF (	SELECT	COUNT(*)
	FROM	T_SIT SIT,
		INSERTED INS
	WHERE	SIT.CD_SIT = INS.CD_SIT AND
		INS.FL_SIT_CHG = 0 AND 
		INS.FL_SIT_PAR = 0) &gt; 0
BEGIN
	RAISERROR 20310 &#39;Operação não executada: Uma situação deve ser de chegada ou de partida ou de ambas.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

/* Se existir mais de uma situação de ETAPA CONCLUÍDA não atualiza*/
IF (	SELECT 	COUNT(*) 
	FROM 	T_SIT SIT,
		INSERTED INS
	WHERE 	SIT.CD_SIT &lt;&gt; INS.CD_SIT AND
		SIT.FL_SIT_CON_VOO = 1 AND
		(SIT.FL_SIT_CHG = INS.FL_SIT_CHG OR SIT.FL_SIT_PAR = INS.FL_SIT_PAR) AND
		INS.FL_SIT_CON_VOO = 1) &gt; 0
BEGIN
	RAISERROR 20310 &#39;Operação não executada: Só pode existir uma única situação de vôo do tipo ETAPA CONCLUÍDA.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

/* Se existir mais de uma situação do tipo CANCELADO não atualiza*/
IF (	SELECT 	COUNT(*) 
	FROM 	T_SIT SIT,
		INSERTED INS
	WHERE 	SIT.CD_SIT &lt;&gt; INS.CD_SIT AND
		SIT.FL_SIT_CAN_VOO = 1 AND
		(SIT.FL_SIT_CHG = INS.FL_SIT_CHG OR SIT.FL_SIT_PAR = INS.FL_SIT_PAR) AND
		INS.FL_SIT_CAN_VOO = 1 ) &gt; 0
BEGIN
	RAISERROR 20310 &#39;Operação não executada: Só pode existir uma única  situação de vôo do tipo ETAPA CANCELADA.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

/* Se existir mais de uma situação do tipo AERONAVE NO PÁTIO não atualiza*/
IF (	SELECT 	COUNT(*) 
	FROM 	T_SIT SIT
	WHERE 	SIT.FL_SIT_AEN_PAT = 1) &gt; 1
BEGIN
	RAISERROR 20310 &#39;Operação não executada: Só pode existir uma única  situação de vôo do tipo AERONAVE NO PÁTIO.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

IF UPDATE (FL_SIT_CHG)
BEGIN
	/* Se uma situação de chegada deixar de ser de chegada */
	/* Verificar se há algum vôo de chegada com esta situação */
	IF (	SELECT	COUNT(*)
		FROM	INSERTED INS,
			DELETED DEL,
			T_CHG CHG
		WHERE	INS.CD_SIT = DEL.CD_SIT AND
			DEL.FL_SIT_CHG &lt;&gt; 0 AND
			INS.FL_SIT_CHG = 0 AND
			CHG.CD_SIT = INS.CD_SIT) &gt; 0
	BEGIN
		RAISERROR 20311 &#39;Operação não executada: Existe um vôo de chegada utilizando esta situação.&#39;
		ROLLBACK TRANSACTION
		RETURN
	END

	/* Se uma situação de chegada deixar de ser de chegada */
	/* Verificar se esta situação é situação condicionante de alguma situação de partida */
	IF (	SELECT	COUNT(*)
		FROM	INSERTED INS,
			DELETED DEL,
			T_SCA SCA
		WHERE	INS.CD_SIT = DEL.CD_SIT AND
			DEL.FL_SIT_CHG &lt;&gt; 0 AND
			INS.FL_SIT_CHG = 0 AND
			SCA.CD_SIT_ANT = INS.CD_SIT) &gt; 0
	BEGIN
		RAISERROR 20311 &#39;Operação não executada: Esta situação é uma situação condicionante de alguma situação de partida.&#39;
		ROLLBACK TRANSACTION
		RETURN
	END

	/* Se uma situação de chegada deixar de ser de chegada */
	/* Verificar se esta situação é situação sucessora de alguma situação de chegada */
	IF (	SELECT	COUNT(*)
		FROM	INSERTED INS,
			T_SSU SSU,
			T_SIT SIT
		WHERE	SSU.CD_SIT_SUC = INS.CD_SIT AND
			SIT.CD_SIT = SSU.CD_SIT AND
			INS.FL_SIT_CHG = 0 AND
			SIT.FL_SIT_CHG = 1) &gt; 0
	BEGIN
		RAISERROR 20311 &#39;Operação não executada: Esta situação é situação sucessora de uma situação de chegada. Por esta razão ela também tem de ser de chegada.&#39;
		ROLLBACK TRANSACTION
		RETURN
	END
END

IF UPDATE (FL_SIT_PAR)
BEGIN
	/* Se uma situação de partida deixar de ser de partida */
	/* Verificar se há algum vôo de partida com esta situação */
	IF (	SELECT	COUNT(*)
		FROM	INSERTED INS,
			DELETED DEL,
			T_PAR PAR
		WHERE	INS.CD_SIT = DEL.CD_SIT AND
			DEL.FL_SIT_PAR &lt;&gt; 0 AND
			INS.FL_SIT_PAR = 0 AND
			PAR.CD_SIT = INS.CD_SIT) &gt; 0
	BEGIN
		RAISERROR 20311 &#39;Operação não executada: Existe um vôo de partida utilizando esta situação.&#39;
		ROLLBACK TRANSACTION
		RETURN
	END

	/* Se uma situação de partida deixar de ser de partida */
	/* Verificar se esta situação possui alguma situação de chegada condicionante */
	IF (	SELECT	COUNT(*)
		FROM	INSERTED INS,
			DELETED DEL,
			T_SCA SCA
		WHERE	INS.CD_SIT = DEL.CD_SIT AND
			DEL.FL_SIT_PAR &lt;&gt; 0 AND
			INS.FL_SIT_PAR = 0 AND
			SCA.CD_SIT = INS.CD_SIT) &gt; 0
	BEGIN
		RAISERROR 20311 &#39;Operação não executada: Esta situação possui alguma situação de chegada condicionante.&#39;
		ROLLBACK TRANSACTION
		RETURN
	END

	/* Se uma situação de partida deixar de ser de partida */
	/* Verificar se esta situação é situação sucessora de alguma situação de partida */
	IF (	SELECT	COUNT(*)
		FROM	INSERTED INS,
			T_SSU SSU,
			T_SIT SIT
		WHERE	SSU.CD_SIT_SUC = INS.CD_SIT AND
			SIT.CD_SIT = SSU.CD_SIT AND
			INS.FL_SIT_PAR = 0 AND
			SIT.FL_SIT_PAR = 1) &gt; 0
	BEGIN
		RAISERROR 20311 &#39;Operação não executada: Esta situação é situação sucessora de uma situação de partida. Por esta razão ela também tem de ser de partida.&#39;
		ROLLBACK TRANSACTION
		RETURN
	END
END

/* Incluir Registros em T_ACH */
INSERT	T_ACH (DH_ACH, CD_CHG)
Select 	GETDATE(), CD_CHG
From 	T_CHG CHG, INSERTED INS
Where	CHG.TP_CHG_STA = 1 AND
	CHG.CD_AER = (Select CD_AER From T_PSI) AND
	CHG.CD_SIT = INS.CD_SIT

/* Incluir Registros em T_APA */
INSERT	T_APA (DH_APA, CD_PAR)
Select 	GETDATE(), CD_PAR
From 	T_PAR PAR, INSERTED INS
Where	PAR.TP_PAR_STA = 1 AND
	PAR.CD_AER = (Select CD_AER From T_PSI) AND
	PAR.CD_SIT = INS.CD_SIT

End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>U</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
<c:PrimaryKey>
<o:Key Ref="o105"/>
</c:PrimaryKey>
</o:Table>
</c:Object>
</o:TableSymbol>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o109">
<a:ObjectID>6958C2D9-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_5</a:Name>
<a:Code>REFERENCE_5</a:Code>
<a:CreationDate>1081599140</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081599140</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o86"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o74"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o105"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o110">
<a:ObjectID>6958C2DA-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081599140</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081599140</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o87"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o76"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o111">
<a:CenterTextOffset>(607, 525)</a:CenterTextOffset>
<a:Rect>((-717215,696927), (-701340,720250))</a:Rect>
<a:ListOfPoints>((-701340,720250),(-717215,696927))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Id="o112">
<a:Rect>((-703997,718519), (-697371,722119))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o113">
<a:ObjectID>6958C2CB-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_SSU</a:Name>
<a:Code>T_SSU</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081601077</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o114">
<a:ObjectID>6958C2A8-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SSU</a:Name>
<a:Code>CD_SSU</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o115">
<a:ObjectID>6958C2A9-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SIT</a:Name>
<a:Code>CD_SIT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o116">
<a:ObjectID>6958C2AA-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SIT_SUC</a:Name>
<a:Code>CD_SIT_SUC</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o117">
<a:ObjectID>6958C2AC-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TP_SSU</a:Name>
<a:Code>TP_SSU</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>tinyint</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o118">
<a:ObjectID>6958C2AD-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_SSU</a:Name>
<a:Code>QT_SSU</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o119">
<a:ObjectID>6958C2AE-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TIMESTAMP</a:Name>
<a:Code>TIMESTAMP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>timestamp</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Keys>
<o:Key Id="o120">
<a:ObjectID>6958C2B3-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Pk_T_SSU</a:Name>
<a:Code>Pk_T_SSU</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PhysicalOptions>
clustered</a:PhysicalOptions>
<a:ConstraintName>Pk_T_SSU</a:ConstraintName>
<c:Key.Columns>
<o:Column Ref="o114"/>
</c:Key.Columns>
</o:Key>
</c:Keys>
<c:Indexes>
<o:Index Id="o121">
<a:ObjectID>6958C2AF-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>I_SSU_SIT</a:Name>
<a:Code>I_SSU_SIT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Unique>1</a:Unique>
<c:IndexColumns>
<o:IndexColumn Id="o122">
<a:ObjectID>6958C2B1-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:IndexColumn.Expression>&lt;Index Expression_0&gt;</a:IndexColumn.Expression>
<c:Column>
<o:Column Ref="o115"/>
</c:Column>
</o:IndexColumn>
<o:IndexColumn Id="o123">
<a:ObjectID>6958C2B2-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:IndexColumn.Expression>&lt;Index Expression_1&gt;</a:IndexColumn.Expression>
<c:Column>
<o:Column Ref="o116"/>
</c:Column>
</o:IndexColumn>
</c:IndexColumns>
</o:Index>
</c:Indexes>
<c:Owner>
<o:User Ref="o41"/>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o124">
<a:ObjectID>6958C2F0-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_SSU_TRI</a:Name>
<a:Code>T_SSU_TRI</a:Code>
<a:Text>Create Trigger T_SSU_TRI On T_SSU
For Insert As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Situação»Situação Sucessora: É Sucessora */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_SUC)
 &lt;&gt;(Select Count(CD_SIT_SUC) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Situação Sucessora&gt; não está cadastrada&#39;
  Return
End
/* Situação»Situação Sucessora: Possui Sucessora */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT)
 &lt;&gt;(Select Count(CD_SIT) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Situação Sucessora&gt; não está cadastrada&#39;
  Return
End
/* Domínio de: Tipo de aplicação da situação sucessora */
/* 1 - Antes da Hora Prevista */
/* 2 - Após a Alteração da Situação */
/* 3 - Ao atingir T. mín. de Perman. */
If (Select Count(*) From Inserted
    Where TP_SSU In (1,2,3))
 &lt;&gt;(Select Count(*) From Inserted)
Begin
  RollBack Transaction
  RaisError 20004 &#39;Operação não executada: A informação &lt;Tipo de aplicação da situação sucessora&gt; que se deseja incluir na tabela &lt;Situação Sucessora&gt; não é uma opção válida&#39;
  Return
End
/* Regra de negócio */
/* Situação sucessora de chegada tem de ser de chegada */
IF (	SELECT	COUNT(*)
	FROM	INSERTED INS,
		T_SIT SIT,
		T_SIT SITSUC
	WHERE	SIT.CD_SIT = INS.CD_SIT AND
		SITSUC.CD_SIT = INS.CD_SIT_SUC AND
		SIT.FL_SIT_CHG = 1 AND
		SITSUC.FL_SIT_CHG = 0) &gt; 0
BEGIN
	RAISERROR 20311 &#39;Operação não executada: Situação sucessora de chegada tem de ser de chegada.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

/* Situação sucessora de partida tem de ser de partida */
IF (	SELECT	COUNT(*)
	FROM	INSERTED INS,
		T_SIT SIT,
		T_SIT SITSUC
	WHERE	SIT.CD_SIT = INS.CD_SIT AND
		SITSUC.CD_SIT = INS.CD_SIT_SUC AND
		SIT.FL_SIT_PAR = 1 AND
		SITSUC.FL_SIT_PAR = 0) &gt; 0
BEGIN
	RAISERROR 20311 &#39;Operação não executada: Situação sucessora de partida tem de ser de partida.&#39;
	ROLLBACK TRANSACTION
	RETURN

END
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>I</a:Trigger.Type>
</o:Trigger>
<o:Trigger Id="o125">
<a:ObjectID>6958C2F1-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_SSU_TRU</a:Name>
<a:Code>T_SSU_TRU</a:Code>
<a:Text>Create Trigger T_SSU_TRU On T_SSU
For Update As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
If Update (CD_SSU)
Begin
  RollBack Transaction
  RaisError 20002 &#39;Operação não executada: A informação &lt;Código da Situação Sucessora&gt; da tabela &lt;Situação Sucessora&gt; não pode ser alterada.&#39;
  Return
End
If Update (CD_SIT_SUC)
/* Situação»Situação Sucessora: É Sucessora */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT_SUC)
 &lt;&gt;(Select Count(CD_SIT_SUC) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Situação Sucessora&gt; não está cadastrada&#39;
  Return
End
If Update (CD_SIT)
/* Situação»Situação Sucessora: Possui Sucessora */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT)
 &lt;&gt;(Select Count(CD_SIT) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Situação Sucessora&gt; não está cadastrada&#39;
  Return
End
If Update (TP_SSU)
/* Domínio de: Tipo de aplicação da situação sucessora */
/* 1 - Antes da Hora Prevista */
/* 2 - Após a Alteração da Situação */
/* 3 - Ao atingir T. mín. de Perman. */
If (Select Count(*) From Inserted
    Where TP_SSU In (1,2,3))
 &lt;&gt;(Select Count(*) From Inserted)
Begin
  RollBack Transaction
  RaisError 20004 &#39;Operação não executada: A informação &lt;Tipo de aplicação da situação sucessora&gt; que se deseja incluir na tabela &lt;Situação Sucessora&gt; não é uma opção válida&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>U</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
<c:PrimaryKey>
<o:Key Ref="o120"/>
</c:PrimaryKey>
</o:Table>
</c:Object>
</o:TableSymbol>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Ref="o85"/>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o126">
<a:ObjectID>6958C2DB-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_6</a:Name>
<a:Code>REFERENCE_6</a:Code>
<a:CreationDate>1081599140</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081599140</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o86"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o113"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o105"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o127">
<a:ObjectID>6958C2DC-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081599140</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081599140</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o87"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o115"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o128">
<a:CenterTextOffset>(2, 0)</a:CenterTextOffset>
<a:Rect>((-716642,697700), (-698867,698946))</a:Rect>
<a:ListOfPoints>((-698867,697700),(-716642,697700))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Id="o129">
<a:Rect>((-702846,696642), (-696530,700242))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o130">
<a:ObjectID>6958C2D3-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_TSI</a:Name>
<a:Code>T_TSI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o131">
<a:ObjectID>6958C2CA-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_TSI</a:Name>
<a:Code>CD_TSI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o132">
<a:ObjectID>6958C2CC-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_TEL</a:Name>
<a:Code>CD_TEL</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o133">
<a:ObjectID>6958C2CD-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_SIT</a:Name>
<a:Code>CD_SIT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o134">
<a:ObjectID>6958C2CE-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TIMESTAMP</a:Name>
<a:Code>TIMESTAMP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>timestamp</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Keys>
<o:Key Id="o135">
<a:ObjectID>6958C2D4-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Pk_T_TSI</a:Name>
<a:Code>Pk_T_TSI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PhysicalOptions>
clustered</a:PhysicalOptions>
<a:ConstraintName>Pk_T_TSI</a:ConstraintName>
<c:Key.Columns>
<o:Column Ref="o131"/>
</c:Key.Columns>
</o:Key>
</c:Keys>
<c:Indexes>
<o:Index Id="o136">
<a:ObjectID>6958C2D0-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>I_TSITEL</a:Name>
<a:Code>I_TSITEL</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Unique>1</a:Unique>
<c:IndexColumns>
<o:IndexColumn Id="o137">
<a:ObjectID>6958C2D1-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:IndexColumn.Expression>&lt;Index Expression_0&gt;</a:IndexColumn.Expression>
<c:Column>
<o:Column Ref="o132"/>
</c:Column>
</o:IndexColumn>
<o:IndexColumn Id="o138">
<a:ObjectID>6958C2D2-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:IndexColumn.Expression>&lt;Index Expression_1&gt;</a:IndexColumn.Expression>
<c:Column>
<o:Column Ref="o133"/>
</c:Column>
</o:IndexColumn>
</c:IndexColumns>
</o:Index>
</c:Indexes>
<c:Owner>
<o:User Ref="o41"/>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o139">
<a:ObjectID>6958C2F5-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_TSI_TRI</a:Name>
<a:Code>T_TSI_TRI</a:Code>
<a:Text>Create Trigger T_TSI_TRI On T_TSI
For Insert As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Situação»Telas da Situação: Telas da Situação */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT)
 &lt;&gt;(Select Count(CD_SIT) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Telas da Situação&gt; não está cadastrada&#39;
  Return
End
/* Tela»Telas da Situação: Telas da Situação */
If (Select Count(*) From T_TEL, Inserted
Where T_TEL.CD_TEL = Inserted.CD_TEL)
 &lt;&gt;(Select Count(CD_TEL) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Tela&gt; que se deseja incluir na tabela &lt;Telas da Situação&gt; não está cadastrada&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>I</a:Trigger.Type>
</o:Trigger>
<o:Trigger Id="o140">
<a:ObjectID>6958C2F6-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_TSI_TRU</a:Name>
<a:Code>T_TSI_TRU</a:Code>
<a:Text>Create Trigger T_TSI_TRU On T_TSI
For Update As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
If Update (CD_TSI)
Begin
  RollBack Transaction
  RaisError 20002 &#39;Operação não executada: A informação &lt;Telas da Situação&gt; da tabela &lt;Telas da Situação&gt; não pode ser alterada.&#39;
  Return
End
If Update (CD_SIT)
/* Situação»Telas da Situação: Telas da Situação */
If (Select Count(*) From T_SIT, Inserted
Where T_SIT.CD_SIT = Inserted.CD_SIT)
 &lt;&gt;(Select Count(CD_SIT) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Situação&gt; que se deseja incluir na tabela &lt;Telas da Situação&gt; não está cadastrada&#39;
  Return
End
If Update (CD_TEL)
/* Tela»Telas da Situação: Telas da Situação */
If (Select Count(*) From T_TEL, Inserted
Where T_TEL.CD_TEL = Inserted.CD_TEL)
 &lt;&gt;(Select Count(CD_TEL) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Tela&gt; que se deseja incluir na tabela &lt;Telas da Situação&gt; não está cadastrada&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>U</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
<c:PrimaryKey>
<o:Key Ref="o135"/>
</c:PrimaryKey>
</o:Table>
</c:Object>
</o:TableSymbol>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Ref="o85"/>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o141">
<a:ObjectID>6958C2DD-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_7</a:Name>
<a:Code>REFERENCE_7</a:Code>
<a:CreationDate>1081599140</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081599140</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o86"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o130"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o105"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o142">
<a:ObjectID>6958C2DE-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081599140</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081599140</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o87"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o133"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o143">
<a:CenterTextOffset>(3, 0)</a:CenterTextOffset>
<a:Rect>((-702435,698800), (-694861,710115))</a:Rect>
<a:ListOfPoints>((-698671,698800),(-698629,710115))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Ref="o129"/>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Id="o144">
<a:Rect>((-703061,707655), (-696513,712201))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o145">
<a:ObjectID>6958C2CF-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_TEL</a:Name>
<a:Code>T_TEL</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081709435</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o146">
<a:ObjectID>6958C2B4-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_TEL</a:Name>
<a:Code>CD_TEL</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o147">
<a:ObjectID>6958C2B5-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_TEL</a:Name>
<a:Code>NM_TEL</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(20)</a:DataType>
<a:Length>20</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o148">
<a:ObjectID>6958C2B6-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_TEL_EST</a:Name>
<a:Code>NM_TEL_EST</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(20)</a:DataType>
<a:Length>20</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o149">
<a:ObjectID>6958C2B7-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>SG_TEL</a:Name>
<a:Code>SG_TEL</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(3)</a:DataType>
<a:Length>3</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o150">
<a:ObjectID>6958C2B8-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_TEL</a:Name>
<a:Code>QT_TEL</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o151">
<a:ObjectID>6958C2BA-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TP_IST</a:Name>
<a:Code>TP_IST</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o152">
<a:ObjectID>6958C2BB-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TIMESTAMP</a:Name>
<a:Code>TIMESTAMP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>timestamp</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Keys>
<o:Key Id="o153">
<a:ObjectID>6958C2C8-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Pk_T_TEL</a:Name>
<a:Code>Pk_T_TEL</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PhysicalOptions>
clustered</a:PhysicalOptions>
<a:ConstraintName>Pk_T_TEL</a:ConstraintName>
<c:Key.Columns>
<o:Column Ref="o146"/>
</c:Key.Columns>
</o:Key>
</c:Keys>
<c:Indexes>
<o:Index Id="o154">
<a:ObjectID>6958C2BD-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>I_TELIST</a:Name>
<a:Code>I_TELIST</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Unique>1</a:Unique>
<c:IndexColumns>
<o:IndexColumn Id="o155">
<a:ObjectID>6958C2BE-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:IndexColumn.Expression>&lt;Index Expression_0&gt;</a:IndexColumn.Expression>
<c:Column>
<o:Column Ref="o151"/>
</c:Column>
</o:IndexColumn>
</c:IndexColumns>
</o:Index>
<o:Index Id="o156">
<a:ObjectID>6958C2C0-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>I_TELNME</a:Name>
<a:Code>I_TELNME</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Unique>1</a:Unique>
<c:IndexColumns>
<o:IndexColumn Id="o157">
<a:ObjectID>6958C2C2-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:IndexColumn.Expression>&lt;Index Expression_0&gt;</a:IndexColumn.Expression>
<c:Column>
<o:Column Ref="o147"/>
</c:Column>
</o:IndexColumn>
</c:IndexColumns>
</o:Index>
<o:Index Id="o158">
<a:ObjectID>6958C2C3-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>I_TELSGL</a:Name>
<a:Code>I_TELSGL</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Unique>1</a:Unique>
<c:IndexColumns>
<o:IndexColumn Id="o159">
<a:ObjectID>6958C2C5-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:IndexColumn.Expression>&lt;Index Expression_0&gt;</a:IndexColumn.Expression>
<c:Column>
<o:Column Ref="o149"/>
</c:Column>
</o:IndexColumn>
</c:IndexColumns>
</o:Index>
</c:Indexes>
<c:Owner>
<o:User Ref="o41"/>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o160">
<a:ObjectID>6958C2F2-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_TEL_TRD</a:Name>
<a:Code>T_TEL_TRD</a:Code>
<a:Text>Create Trigger T_TEL_TRD On T_TEL
For Delete As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Tela»Resumo de Exibição de Propagandas: Tela Exibida (Restrict) */
If (Select Count(*) From T_REX dep, Deleted pri
 Where dep.CD_TEL = pri.CD_TEL) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Tela&gt; está sendo referenciada na tabela &lt;Resumo de Exibição de Propagandas&gt;&#39;
  Return
End
/* Tela»Programação de Propagandas: Telas da Programação de Progandas (Restrict) */
If (Select Count(*) From T_PRP dep, Deleted pri
 Where dep.CD_TEL = pri.CD_TEL) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Tela&gt; está sendo referenciada na tabela &lt;Programação de Propagandas&gt;&#39;
  Return
End
/* Tela»Telas da Situação: Telas da Situação (Restrict) */
If (Select Count(*) From T_TSI dep, Deleted pri
 Where dep.CD_TEL = pri.CD_TEL) &gt; 0
Begin
  RollBack Transaction
  RaisError 20003 &#39;Operação não executada: A informação que se deseja excluir da tabela &lt;Tela&gt; está sendo referenciada na tabela &lt;Telas da Situação&gt;&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>D</a:Trigger.Type>
</o:Trigger>
<o:Trigger Id="o161">
<a:ObjectID>6958C2F3-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_TEL_TRI</a:Name>
<a:Code>T_TEL_TRI</a:Code>
<a:Text>Create Trigger T_TEL_TRI On T_TEL
For Insert As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Aeroporto»Tela: Aeroporto das Telas */
If (Select Count(*) From T_AER, Inserted
Where T_AER.CD_AER = Inserted.CD_AER)
 &lt;&gt;(Select Count(CD_AER) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Aeroporto&gt; que se deseja incluir na tabela &lt;Tela&gt; não está cadastrada&#39;
  Return
End
/* Domínio de: Information Server Padrão */
/* 1 - CHG */
/* 2 - PAR */
/* 3 - EST */
/* 4 - POR */
/* 5 - CHK */
/* 6 - HPA */
/* 7 - HOT */
If (Select Count(*) From Inserted
    Where TP_IST In (1,2,3,4,5,6,7))
 &lt;&gt;(Select Count(*) From Inserted)
Begin
  RollBack Transaction
  RaisError 20004 &#39;Operação não executada: A informação &lt;Information Server Padrão&gt; que se deseja incluir na tabela &lt;Tela&gt; não é uma opção válida&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>I</a:Trigger.Type>
</o:Trigger>
<o:Trigger Id="o162">
<a:ObjectID>6958C2F4-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_TEL_TRU</a:Name>
<a:Code>T_TEL_TRU</a:Code>
<a:Text>Create Trigger T_TEL_TRU On T_TEL
For Update As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
If Update (CD_TEL)
Begin
  RollBack Transaction
  RaisError 20002 &#39;Operação não executada: A informação &lt;Código da Tela&gt; da tabela &lt;Tela&gt; não pode ser alterada.&#39;
  Return
End
If Update (CD_AER)
/* Aeroporto»Tela: Aeroporto das Telas */
If (Select Count(*) From T_AER, Inserted
Where T_AER.CD_AER = Inserted.CD_AER)
 &lt;&gt;(Select Count(CD_AER) From Inserted)
Begin
  RollBack Transaction
  RaisError 20001 &#39;Operação não executada: A informação &lt;Aeroporto&gt; que se deseja incluir na tabela &lt;Tela&gt; não está cadastrada&#39;
  Return
End
If Update (TP_IST)
/* Domínio de: Information Server Padrão */
/* 1 - CHG */
/* 2 - PAR */
/* 3 - EST */
/* 4 - POR */
/* 5 - CHK */
/* 6 - HPA */
/* 7 - HOT */
If (Select Count(*) From Inserted
    Where TP_IST In (1,2,3,4,5,6,7))
 &lt;&gt;(Select Count(*) From Inserted)
Begin
  RollBack Transaction
  RaisError 20004 &#39;Operação não executada: A informação &lt;Information Server Padrão&gt; que se deseja incluir na tabela &lt;Tela&gt; não é uma opção válida&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>U</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
<c:PrimaryKey>
<o:Key Ref="o153"/>
</c:PrimaryKey>
</o:Table>
</c:Object>
</o:TableSymbol>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o163">
<a:ObjectID>6958C2E0-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_8</a:Name>
<a:Code>REFERENCE_8</a:Code>
<a:CreationDate>1081599140</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081599140</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o145"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o130"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o153"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o164">
<a:ObjectID>6958C2E2-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081599140</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081599140</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o146"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o132"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o165">
<a:CenterTextOffset>(601, 1875)</a:CenterTextOffset>
<a:Rect>((-737801,699039), (-717137,722371))</a:Rect>
<a:ListOfPoints>((-737801,722371),(-717137,699039))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Ref="o73"/>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Ref="o85"/>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o166">
<a:ObjectID>6958C311-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_9</a:Name>
<a:Code>REFERENCE_9</a:Code>
<a:CreationDate>1081600858</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081600858</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o86"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o74"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o105"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o167">
<a:ObjectID>6958C313-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081600858</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081600879</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o87"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o77"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o168">
<a:CenterTextOffset>(-525, 2025)</a:CenterTextOffset>
<a:Rect>((-718946,697530), (-703290,721000))</a:Rect>
<a:ListOfPoints>((-703290,721000),(-718946,697530))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Ref="o112"/>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Ref="o85"/>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o169">
<a:ObjectID>6958C316-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_10</a:Name>
<a:Code>REFERENCE_10</a:Code>
<a:CreationDate>1081601041</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081601041</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o86"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o113"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o105"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o170">
<a:ObjectID>6958C318-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081601041</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081601077</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o87"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o116"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o171">
<a:CenterTextOffset>(-300, -1350)</a:CenterTextOffset>
<a:Rect>((-743867,714697), (-734717,721150))</a:Rect>
<a:ListOfPoints>((-738917,721150),(-738992,715975),(-738992,715975),(-741542,715975),(-741552,720895))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Ref="o73"/>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Ref="o73"/>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o172">
<a:ObjectID>6958C233-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_11</a:Name>
<a:Code>REFERENCE_11</a:Code>
<a:CreationDate>1081601162</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081601287</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o74"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o74"/>
</c:Object2>
<c:Joins>
<o:ReferenceJoin Id="o173">
<a:ObjectID>6958C235-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081601162</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081601287</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o76"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o77"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o174">
<a:CenterTextOffset>(86, -1275)</a:CenterTextOffset>
<a:Rect>((-738737,696754), (-717665,698025))</a:Rect>
<a:ListOfPoints>((-738737,698025),(-717665,697890))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Ref="o6"/>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Ref="o85"/>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o175">
<a:ObjectID>6958C249-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_10</a:Name>
<a:Code>REFERENCE_10</a:Code>
<a:CreationDate>1081709862</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081709962</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o86"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o7"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o105"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o176">
<a:ObjectID>6958C260-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081709962</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081710066</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o87"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o14"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o177">
<a:Rect>((-738571,692800), (-717871,694063))</a:Rect>
<a:ListOfPoints>((-738571,692834),(-717871,692800))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Ref="o6"/>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Ref="o85"/>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o178">
<a:ObjectID>6958C24B-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_11</a:Name>
<a:Code>REFERENCE_11</a:Code>
<a:CreationDate>1081709882</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081709962</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o86"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o7"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o105"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o179">
<a:ObjectID>6958C25D-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081709962</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081710119</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o87"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o15"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o180">
<a:CenterTextOffset>(165, 300)</a:CenterTextOffset>
<a:Rect>((-738827,691000), (-718096,692546))</a:Rect>
<a:ListOfPoints>((-738827,691002),(-718096,691000))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Ref="o6"/>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Ref="o85"/>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o181">
<a:ObjectID>6958C284-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_12</a:Name>
<a:Code>REFERENCE_12</a:Code>
<a:CreationDate>1081709882</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081709962</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o86"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o7"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o105"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o182">
<a:ObjectID>6958C25A-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081709962</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081710170</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o87"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o17"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o183">
<a:CenterTextOffset>(92, -75)</a:CenterTextOffset>
<a:Rect>((-738753,698520), (-718021,699850))</a:Rect>
<a:ListOfPoints>((-738753,699832),(-718021,699850))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Ref="o6"/>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Ref="o85"/>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o184">
<a:ObjectID>6958C2B9-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_13</a:Name>
<a:Code>REFERENCE_13</a:Code>
<a:CreationDate>1081709882</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081709962</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o86"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o7"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o105"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o185">
<a:ObjectID>6958C257-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081709962</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081710052</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o87"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o12"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o186">
<a:CenterTextOffset>(167, -1200)</a:CenterTextOffset>
<a:Rect>((-738474,695340), (-717721,696534))</a:Rect>
<a:ListOfPoints>((-738474,696534),(-717721,696400))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Ref="o6"/>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Ref="o85"/>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o187">
<a:ObjectID>6958C2EA-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_14</a:Name>
<a:Code>REFERENCE_14</a:Code>
<a:CreationDate>1081709882</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081709962</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o86"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o7"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o105"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o188">
<a:ObjectID>6958C254-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081709962</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081710080</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o87"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o16"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:ReferenceSymbol Id="o189">
<a:CenterTextOffset>(-139, -225)</a:CenterTextOffset>
<a:Rect>((-738228,693120), (-717496,694600))</a:Rect>
<a:ListOfPoints>((-738228,694584),(-717496,694600))</a:ListOfPoints>
<a:ArrowStyle>4882</a:ArrowStyle>
<a:LineColor>16711808</a:LineColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N</a:FontList>
<c:SourceSymbol>
<o:TableSymbol Ref="o6"/>
</c:SourceSymbol>
<c:DestinationSymbol>
<o:TableSymbol Ref="o85"/>
</c:DestinationSymbol>
<c:Object>
<o:Reference Id="o190">
<a:ObjectID>6958C303-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Reference_15</a:Name>
<a:Code>REFERENCE_15</a:Code>
<a:CreationDate>1081709882</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081709962</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Cardinality>0..*</a:Cardinality>
<a:UpdateConstraint>1</a:UpdateConstraint>
<a:DeleteConstraint>1</a:DeleteConstraint>
<c:Object1>
<o:Table Ref="o86"/>
</c:Object1>
<c:Object2>
<o:Table Ref="o7"/>
</c:Object2>
<c:ParentKey>
<o:Key Ref="o105"/>
</c:ParentKey>
<c:Joins>
<o:ReferenceJoin Id="o191">
<a:ObjectID>6958C251-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:CreationDate>1081709962</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081710103</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Object1>
<o:Column Ref="o87"/>
</c:Object1>
<c:Object2>
<o:Column Ref="o13"/>
</c:Object2>
</o:ReferenceJoin>
</c:Joins>
</o:Reference>
</c:Object>
</o:ReferenceSymbol>
<o:TableSymbol Id="o192">
<a:Rect>((-722760,680050), (-716134,683650))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o193">
<a:ObjectID>6958C272-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_ERR</a:Name>
<a:Code>T_ERR</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o194">
<a:ObjectID>6958C30C-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_ERR</a:Name>
<a:Code>CD_ERR</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o195">
<a:ObjectID>6958C30D-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>DH_ERR</a:Name>
<a:Code>DH_ERR</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>datetime</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o196">
<a:ObjectID>6958C30E-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_ERR_ROT</a:Name>
<a:Code>NM_ERR_ROT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(30)</a:DataType>
<a:Length>30</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o197">
<a:ObjectID>6958C310-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TT_ERR</a:Name>
<a:Code>TT_ERR</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(255)</a:DataType>
<a:Length>255</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o198">
<a:ObjectID>6958C312-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TIMESTAMP</a:Name>
<a:Code>TIMESTAMP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>timestamp</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Keys>
<o:Key Id="o199">
<a:ObjectID>6958C314-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Pk_T_ERR</a:Name>
<a:Code>Pk_T_ERR</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PhysicalOptions>
clustered</a:PhysicalOptions>
<a:ConstraintName>Pk_T_ERR</a:ConstraintName>
<c:Key.Columns>
<o:Column Ref="o194"/>
</c:Key.Columns>
</o:Key>
</c:Keys>
<c:Owner>
<o:User Ref="o41"/>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o200">
<a:ObjectID>6958C30F-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_ERR_TRU</a:Name>
<a:Code>T_ERR_TRU</a:Code>
<a:Text>Create Trigger T_ERR_TRU On T_ERR
For Update As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
If Update (CD_ERR)
Begin
  RollBack Transaction
  RaisError 20002 &#39;Operação não executada: A informação &lt;Código do Erro&gt; da tabela &lt;Erros&gt; não pode ser alterada.&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>U</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
<c:PrimaryKey>
<o:Key Ref="o199"/>
</c:PrimaryKey>
</o:Table>
</c:Object>
</o:TableSymbol>
<o:TableSymbol Ref="o62"/>
<o:TableSymbol Ref="o44"/>
<o:TableSymbol Id="o201">
<a:Rect>((-712382,687044), (-705756,690644))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o202">
<a:ObjectID>6958C29A-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_HRV</a:Name>
<a:Code>T_HRV</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o203">
<a:ObjectID>6958C315-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_HRV</a:Name>
<a:Code>CD_HRV</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o204">
<a:ObjectID>6958C317-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>DT_HRV_INI</a:Name>
<a:Code>DT_HRV_INI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_DAT    Script Date: 7/8/2000 12:14:35 ******/
Create Rule        RU_DAT As
DATEPART(hh,@data) = 0 AND
DATEPART(mi,@data) = 0 AND
DATEPART(ss,@data) = 0 AND
DATEPART(ms,@data) = 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>smalldatetime</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o205">
<a:ObjectID>6958C319-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>DT_HRV_FIM</a:Name>
<a:Code>DT_HRV_FIM</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_DAT    Script Date: 7/8/2000 12:14:35 ******/
Create Rule        RU_DAT As
DATEPART(hh,@data) = 0 AND
DATEPART(mi,@data) = 0 AND
DATEPART(ss,@data) = 0 AND
DATEPART(ms,@data) = 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>smalldatetime</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o206">
<a:ObjectID>6958C31A-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TIMESTAMP</a:Name>
<a:Code>TIMESTAMP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>timestamp</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Keys>
<o:Key Id="o207">
<a:ObjectID>6958C234-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Pk_T_HRV</a:Name>
<a:Code>Pk_T_HRV</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PhysicalOptions>
clustered</a:PhysicalOptions>
<a:ConstraintName>Pk_T_HRV</a:ConstraintName>
<c:Key.Columns>
<o:Column Ref="o203"/>
</c:Key.Columns>
</o:Key>
</c:Keys>
<c:Owner>
<o:User Ref="o41"/>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o208">
<a:ObjectID>6958C28F-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_HRV_TRI</a:Name>
<a:Code>T_HRV_TRI</a:Code>
<a:Text>Create Trigger T_HRV_TRI On T_HRV
For Insert As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Regra de negócio */
/* A Data Inicial tem que ser menor que a Data Final */
IF (	SELECT 	COUNT(*) 
	FROM 	INSERTED INS
	WHERE 	DT_HRV_INI &gt; DT_HRV_FIM) &gt; 0
BEGIN
	RAISERROR 20999 &#39;Operação não executada: A Data Inicial tem que ser menor que a Data Final.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

/* Não permitir que se inclua Horários de Verão com períodos concomitantes */
IF (	SELECT 	COUNT(*) 
	FROM 	T_HRV HRV, INSERTED INS
	WHERE 	HRV.CD_HRV &lt;&gt; INS.CD_HRV AND
		(HRV.DT_HRV_INI &gt;= INS.DT_HRV_INI AND HRV.DT_HRV_INI &lt;= INS.DT_HRV_FIM OR
		 INS.DT_HRV_INI &gt;= HRV.DT_HRV_INI AND INS.DT_HRV_INI &lt;= HRV.DT_HRV_FIM OR
		 HRV.DT_HRV_INI &lt;= INS.DT_HRV_INI AND HRV.DT_HRV_FIM &gt;= INS.DT_HRV_FIM OR
		 INS.DT_HRV_INI &lt;= HRV.DT_HRV_INI AND INS.DT_HRV_FIM &gt;= HRV.DT_HRV_FIM)) &gt; 0
BEGIN
	RAISERROR 20999 &#39;Operação não executada: Não é permitido que se tenha Horários de Verão com períodos concomitantes.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>I</a:Trigger.Type>
</o:Trigger>
<o:Trigger Id="o209">
<a:ObjectID>6958C291-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_HRV_TRU</a:Name>
<a:Code>T_HRV_TRU</a:Code>
<a:Text>Create Trigger T_HRV_TRU On T_HRV
For Update As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
If Update (CD_HRV)
Begin
  RollBack Transaction
  RaisError 20002 &#39;Operação não executada: A informação &lt;Código do Horário de Verão&gt; da tabela &lt;Horários de Verão&gt; não pode ser alterada.&#39;
  Return
End
/* Regra de negócio */
/* A Data Inicial tem que ser menor que a Data Final */
IF (	SELECT 	COUNT(*) 
	FROM 	INSERTED INS
	WHERE 	DT_HRV_INI &gt; DT_HRV_FIM) &gt; 0
BEGIN
	RAISERROR 20999 &#39;Operação não executada: A Data Inicial tem que ser menor que a Data Final.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

/* Não permitir que se inclua Horários de Verão com períodos concomitantes */
IF (	SELECT 	COUNT(*) 
	FROM 	T_HRV HRV, INSERTED INS
	WHERE 	HRV.CD_HRV &lt;&gt; INS.CD_HRV AND
		(HRV.DT_HRV_INI &gt;= INS.DT_HRV_INI AND HRV.DT_HRV_INI &lt;= INS.DT_HRV_FIM OR
		 INS.DT_HRV_INI &gt;= HRV.DT_HRV_INI AND INS.DT_HRV_INI &lt;= HRV.DT_HRV_FIM OR
		 HRV.DT_HRV_INI &lt;= INS.DT_HRV_INI AND HRV.DT_HRV_FIM &gt;= INS.DT_HRV_FIM OR
		 INS.DT_HRV_INI &lt;= HRV.DT_HRV_INI AND INS.DT_HRV_FIM &gt;= HRV.DT_HRV_FIM)) &gt; 0
BEGIN
	RAISERROR 20999 &#39;Operação não executada: Não é permitido que se tenha Horários de Verão com períodos concomitantes.&#39;
	ROLLBACK TRANSACTION
	RETURN
END

End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>U</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
<c:PrimaryKey>
<o:Key Ref="o207"/>
</c:PrimaryKey>
</o:Table>
</c:Object>
</o:TableSymbol>
<o:TableSymbol Id="o210">
<a:Rect>((-702990,687158), (-696518,690758))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o211">
<a:ObjectID>6958C2A5-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_MAI</a:Name>
<a:Code>T_MAI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o212">
<a:ObjectID>6958C236-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_MAI</a:Name>
<a:Code>CD_MAI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o213">
<a:ObjectID>6958C237-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>DH_MAI</a:Name>
<a:Code>DH_MAI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>smalldatetime</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o214">
<a:ObjectID>6958C238-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_MAI_DES</a:Name>
<a:Code>NM_MAI_DES</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(50)</a:DataType>
<a:Length>50</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o215">
<a:ObjectID>6958C239-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_MAI</a:Name>
<a:Code>NM_MAI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(50)</a:DataType>
<a:Length>50</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o216">
<a:ObjectID>6958C23A-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TT_MAI</a:Name>
<a:Code>TT_MAI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(255)</a:DataType>
<a:Length>255</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o217">
<a:ObjectID>6958C23B-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TT_MAI_001</a:Name>
<a:Code>TT_MAI_001</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(255)</a:DataType>
<a:Length>255</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o218">
<a:ObjectID>6958C23C-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_MAI</a:Name>
<a:Code>FL_MAI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Keys>
<o:Key Id="o219">
<a:ObjectID>6958C23D-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Pk_T_MAI</a:Name>
<a:Code>Pk_T_MAI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PhysicalOptions>
clustered</a:PhysicalOptions>
<a:ConstraintName>Pk_T_MAI</a:ConstraintName>
<c:Key.Columns>
<o:Column Ref="o212"/>
</c:Key.Columns>
</o:Key>
</c:Keys>
<c:Owner>
<o:User Ref="o41"/>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o220">
<a:ObjectID>6958C2AB-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_MAI_TRU</a:Name>
<a:Code>T_MAI_TRU</a:Code>
<a:Text>Create Trigger T_MAI_TRU On T_MAI
For Update As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
If Update (CD_MAI)
Begin
  RollBack Transaction
  RaisError 20002 &#39;Operação não executada: A informação &lt;Código do Mail&gt; da tabela &lt;Mails&gt; não pode ser alterada.&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>U</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
<c:PrimaryKey>
<o:Key Ref="o219"/>
</c:PrimaryKey>
</o:Table>
</c:Object>
</o:TableSymbol>
<o:TableSymbol Id="o221">
<a:Rect>((-731664,680009), (-724960,683609))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o222">
<a:ObjectID>6958C2B0-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_OBS</a:Name>
<a:Code>T_OBS</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o223">
<a:ObjectID>6958C23E-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>CD_OBS</a:Name>
<a:Code>CD_OBS</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:ServerCheckExpression>/****** Object:  Rule dbo.RU_VL1    Script Date: 7/8/2000 12:14:36 ******/
Create Rule        RU_VL1 As
@valor &gt; 0 and %MINMAX% and %LISTVAL% and %RULES%</a:ServerCheckExpression>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o224">
<a:ObjectID>6958C23F-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TP_OBS</a:Name>
<a:Code>TP_OBS</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>tinyint</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o225">
<a:ObjectID>6958C240-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TT_OBS</a:Name>
<a:Code>TT_OBS</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(255)</a:DataType>
<a:Length>255</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o226">
<a:ObjectID>6958C241-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TT_OBS_001</a:Name>
<a:Code>TT_OBS_001</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(255)</a:DataType>
<a:Length>255</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o227">
<a:ObjectID>6958C242-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_OBS_FRM</a:Name>
<a:Code>NM_OBS_FRM</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(30)</a:DataType>
<a:Length>30</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o228">
<a:ObjectID>6958C243-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_OBS_USR</a:Name>
<a:Code>NM_OBS_USR</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(30)</a:DataType>
<a:Length>30</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o229">
<a:ObjectID>6958C244-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>DH_OBS</a:Name>
<a:Code>DH_OBS</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>datetime</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o230">
<a:ObjectID>6958C245-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_OBS_ALA</a:Name>
<a:Code>FL_OBS_ALA</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o231">
<a:ObjectID>6958C246-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TIMESTAMP</a:Name>
<a:Code>TIMESTAMP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>timestamp</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Keys>
<o:Key Id="o232">
<a:ObjectID>6958C248-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Pk_T_OBS</a:Name>
<a:Code>Pk_T_OBS</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PhysicalOptions>
clustered</a:PhysicalOptions>
<a:ConstraintName>Pk_T_OBS</a:ConstraintName>
<c:Key.Columns>
<o:Column Ref="o223"/>
</c:Key.Columns>
</o:Key>
</c:Keys>
<c:Owner>
<o:User Ref="o41"/>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o233">
<a:ObjectID>6958C2C4-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_OBS_TRI</a:Name>
<a:Code>T_OBS_TRI</a:Code>
<a:Text>Create Trigger T_OBS_TRI On T_OBS
For Insert As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Domínio de: Tipo de Observação */
/* 1 - Ocorrência */
/* 2 - Sugestão */
If (Select Count(*) From Inserted
    Where TP_OBS In (1,2))
 &lt;&gt;(Select Count(*) From Inserted)
Begin
  RollBack Transaction
  RaisError 20004 &#39;Operação não executada: A informação &lt;Tipo de Observação&gt; que se deseja incluir na tabela &lt;Observações&gt; não é uma opção válida&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>I</a:Trigger.Type>
</o:Trigger>
<o:Trigger Id="o234">
<a:ObjectID>6958C2C7-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_OBS_TRU</a:Name>
<a:Code>T_OBS_TRU</a:Code>
<a:Text>Create Trigger T_OBS_TRU On T_OBS
For Update As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
If Update (CD_OBS)
Begin
  RollBack Transaction
  RaisError 20002 &#39;Operação não executada: A informação &lt;Código da Observação&gt; da tabela &lt;Observações&gt; não pode ser alterada.&#39;
  Return
End
If Update (TP_OBS)
/* Domínio de: Tipo de Observação */
/* 1 - Ocorrência */
/* 2 - Sugestão */
If (Select Count(*) From Inserted
    Where TP_OBS In (1,2))
 &lt;&gt;(Select Count(*) From Inserted)
Begin
  RollBack Transaction
  RaisError 20004 &#39;Operação não executada: A informação &lt;Tipo de Observação&gt; que se deseja incluir na tabela &lt;Observações&gt; não é uma opção válida&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>U</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
<c:PrimaryKey>
<o:Key Ref="o232"/>
</c:PrimaryKey>
</o:Table>
</c:Object>
</o:TableSymbol>
<o:TableSymbol Ref="o6"/>
<o:TableSymbol Id="o235">
<a:Rect>((-713772,680118), (-707146,683718))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o236">
<a:ObjectID>6958C2BF-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_RED</a:Name>
<a:Code>T_RED</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o237">
<a:ObjectID>6958C274-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>SG_AER_ICA</a:Name>
<a:Code>SG_AER_ICA</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(4)</a:DataType>
<a:Length>4</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o238">
<a:ObjectID>6958C275-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_RED_SRV</a:Name>
<a:Code>NM_RED_SRV</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(15)</a:DataType>
<a:Length>15</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o239">
<a:ObjectID>6958C276-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_RED_MAI</a:Name>
<a:Code>NM_RED_MAI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(50)</a:DataType>
<a:Length>50</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o240">
<a:ObjectID>6958C277-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_RED_ATI</a:Name>
<a:Code>FL_RED_ATI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>tinyint</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Keys>
<o:Key Id="o241">
<a:ObjectID>6958C278-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Pk_T_RED</a:Name>
<a:Code>Pk_T_RED</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:PhysicalOptions>
clustered</a:PhysicalOptions>
<a:ConstraintName>Pk_T_RED</a:ConstraintName>
<c:Key.Columns>
<o:Column Ref="o237"/>
</c:Key.Columns>
</o:Key>
</c:Keys>
<c:Owner>
<o:User Ref="o41"/>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o242">
<a:ObjectID>6958C2E8-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_RED_TRU</a:Name>
<a:Code>T_RED_TRU</a:Code>
<a:Text>Create Trigger T_RED_TRU On T_RED
For Update As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
If Update (SG_AER_ICA)
Begin
  RollBack Transaction
  RaisError 20002 &#39;Operação não executada: A informação &lt;Sigla ICAO do Aeroporto&gt; da tabela &lt;Estrutura da Rede SIIV/Infraero&gt; não pode ser alterada.&#39;
  Return
End
End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>U</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
<c:PrimaryKey>
<o:Key Ref="o241"/>
</c:PrimaryKey>
</o:Table>
</c:Object>
</o:TableSymbol>
<o:TableSymbol Id="o243">
<a:Rect>((-704273,680289), (-696565,683889))</a:Rect>
<a:LineColor>16711808</a:LineColor>
<a:FillColor>16777215</a:FillColor>
<a:ShadowColor>12632256</a:ShadowColor>
<a:FontList>DISPNAME 0 arial,8,N
TableColumns 0 arial,8,N
TablePkColumns 0 arial,8,N
TableKeys 0 arial,8,N
TableIndexs 0 arial,8,N
TableTriggers 0 arial,8,N</a:FontList>
<c:Object>
<o:Table Id="o244">
<a:ObjectID>6958C2C1-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_REP001</a:Name>
<a:Code>T_REP001</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<c:Columns>
<o:Column Id="o245">
<a:ObjectID>6958C279-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>SG_AER_ICA_ORI</a:Name>
<a:Code>SG_AER_ICA_ORI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(4)</a:DataType>
<a:Length>4</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o246">
<a:ObjectID>6958C27A-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>SG_AER_ICA_DES</a:Name>
<a:Code>SG_AER_ICA_DES</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(4)</a:DataType>
<a:Length>4</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o247">
<a:ObjectID>6958C27B-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>SG_COM_IAT_003</a:Name>
<a:Code>SG_COM_IAT_003</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(3)</a:DataType>
<a:Length>3</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o248">
<a:ObjectID>6958C27C-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NR_VOO</a:Name>
<a:Code>NR_VOO</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(10)</a:DataType>
<a:Length>10</a:Length>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o249">
<a:ObjectID>6958C27D-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>DH_VOO_EFE</a:Name>
<a:Code>DH_VOO_EFE</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>smalldatetime</a:DataType>
</o:Column>
<o:Column Id="o250">
<a:ObjectID>6958C27E-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>QT_VOO_DIF</a:Name>
<a:Code>QT_VOO_DIF</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>int</a:DataType>
</o:Column>
<o:Column Id="o251">
<a:ObjectID>6958C27F-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NM_SIT</a:Name>
<a:Code>NM_SIT</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>varchar(30)</a:DataType>
<a:Length>30</a:Length>
</o:Column>
<o:Column Id="o252">
<a:ObjectID>6958C280-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>NR_AEN</a:Name>
<a:Code>NR_AEN</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>char(10)</a:DataType>
<a:Length>10</a:Length>
</o:Column>
<o:Column Id="o253">
<a:ObjectID>6958C281-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_CHG_CON</a:Name>
<a:Code>FL_CHG_CON</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DefaultValue>/****** Object:  Default dbo.DF_VAL_ZRO    Script Date: 7/8/2000 12:14:36 ******/
Create Default        DF_VAL_ZRO As
0</a:DefaultValue>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o254">
<a:ObjectID>6958C282-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_PAR_CON</a:Name>
<a:Code>FL_PAR_CON</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DefaultValue>/****** Object:  Default dbo.DF_VAL_ZRO    Script Date: 7/8/2000 12:14:36 ******/
Create Default        DF_VAL_ZRO As
0</a:DefaultValue>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o255">
<a:ObjectID>6958C283-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>FL_AEN</a:Name>
<a:Code>FL_AEN</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DefaultValue>/****** Object:  Default dbo.DF_VAL_ZRO    Script Date: 7/8/2000 12:14:36 ******/
Create Default        DF_VAL_ZRO As
0</a:DefaultValue>
<a:DataType>bit</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o256">
<a:ObjectID>6958C285-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>DH_REP</a:Name>
<a:Code>DH_REP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>datetime</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o257">
<a:ObjectID>6958C286-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>DH_REP_ORI</a:Name>
<a:Code>DH_REP_ORI</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>datetime</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o258">
<a:ObjectID>6958C287-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>HR_REP_ZUL</a:Name>
<a:Code>HR_REP_ZUL</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>int</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
<o:Column Id="o259">
<a:ObjectID>6958C288-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>TIMESTAMP</a:Name>
<a:Code>TIMESTAMP</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:DataType>timestamp</a:DataType>
<a:Mandatory>1</a:Mandatory>
</o:Column>
</c:Columns>
<c:Owner>
<o:User Ref="o41"/>
</c:Owner>
<c:Triggers>
<o:Trigger Id="o260">
<a:ObjectID>6958C2E9-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>T_REP001_TRI</a:Name>
<a:Code>T_REP001_TRI</a:Code>
<a:Text>Create Trigger T_REP001_TRI On T_REP001
For Insert As
Begin
IF @@ROWCOUNT = 0 RETURN
SET NOCOUNT ON
/* Regra de negócio */
/* Alexei - 27/07/98 - Deletar da tabela T_REP001 todos os registros que não tiverem correspondentes vôos de chegadas
com os campos companhia e número do vôo iguais e o aeroporto destino igual ao aeroporto usuário, com menos de 12h */
DECLARE @HR_REP_ZUL INT
DECLARE @HR_HOR_NRM INT
DECLARE @HR_HOR_VER INT

/* Verifica Defazagem em relação ao horário Zulu */
SELECT 	@HR_HOR_NRM = HR_HOR_NRM,
	@HR_HOR_VER = HR_HOR_VER
FROM 	T_HOR HOR, T_AER AER, T_CID CID, T_PSI PSI
WHERE 	CID.CD_CID = AER.CD_CID And
	HOR.CD_HOR = CID.CD_HOR And
	AER.CD_AER = PSI.CD_AER
   
/* Verifica se o Aeroporto está no Horário de Verão */
IF (SELECT COUNT(*) FROM T_HRV WHERE GETDATE() BETWEEN DT_HRV_INI AND DT_HRV_FIM) &gt; 0
	SELECT @HR_REP_ZUL = @HR_HOR_VER
ELSE
	SELECT @HR_REP_ZUL = @HR_HOR_NRM

DELETE	T_REP001
FROM	INSERTED INS
WHERE	INS.SG_AER_ICA_DES = (SELECT SG_AER_ICA FROM T_AER WHERE CD_AER = (SELECT CD_AER FROM T_PSI)) AND
	NOT EXISTS (	SELECT 	CD_CHG 
			FROM 	T_CHG CHG,
				T_COM COM
			WHERE	COM.CD_COM = CHG.CD_COM AND
				RTRIM(INS.SG_COM_IAT_003) = RTRIM(COM.SG_COM_IAT_003) AND
				RTRIM(INS.NR_VOO) = RTRIM(CHG.NR_CHG_VOO) AND
				DATEDIFF(HH, DATEADD(HH, INS.HR_REP_ZUL, INS.DH_REP_ORI), DATEADD(HH, @HR_REP_ZUL, DH_CHG_EFE)) &lt; 12)


/* Se o flag FL_PAR_CON do registro que está sendo incluído for 1 e o aeropoto destino foi igual ao aeroporto usuário, 
   atualizar o flag FL_CHG_PAR_ORI na tabela T_CHG do registro correspondente a esse, que estiver em aberto e 
   possuir a menor data */
IF	(SELECT	COUNT(*)
	FROM	T_CHG CHG, T_COM COM, T_REP001 REP
	WHERE	COM.CD_COM = CHG.CD_COM AND
		RTRIM(COM.SG_COM_IAT_003) = RTRIM(REP.SG_COM_IAT_003) AND
		RTRIM(CHG.NR_CHG_VOO) = RTRIM(REP.NR_VOO) AND
		CHG.TP_CHG_STA = 1 AND
		REP.SG_AER_ICA_DES = (SELECT SG_AER_ICA FROM T_AER WHERE CD_AER = (SELECT CD_AER FROM T_PSI)) AND
		REP.FL_PAR_CON = 1) &gt; 0
BEGIN
	UPDATE	CHG
	SET	FL_CHG_PAR_ORI = 1
	FROM	T_CHG CHG, T_COM COM, T_REP001 REP
	WHERE	COM.CD_COM = CHG.CD_COM AND
		RTRIM(COM.SG_COM_IAT_003) = RTRIM(REP.SG_COM_IAT_003) AND
		RTRIM(CHG.NR_CHG_VOO) = RTRIM(REP.NR_VOO) AND
		CHG.DH_CHG_EFE In (	Select 	MIN(DH_CHG_EFE)

					From  	T_CHG CHG1
					Where 	CHG1.CD_COM = (Select CD_COM From T_COM Where RTRIM(SG_COM_IAT_003) = RTRIM(REP.SG_COM_IAT_003))
					And 	RTRIM(CHG1.NR_CHG_VOO) = RTRIM(REP.NR_VOO)
					And 	CHG1.TP_CHG_STA = 1) AND
		CHG.TP_CHG_STA = 1 AND
		REP.SG_AER_ICA_DES = (SELECT SG_AER_ICA FROM T_AER WHERE CD_AER = (SELECT CD_AER FROM T_PSI)) AND
		REP.FL_PAR_CON = 1
END

End
go</a:Text>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:Trigger.Type>I</a:Trigger.Type>
</o:Trigger>
</c:Triggers>
</o:Table>
</c:Object>
</o:TableSymbol>
<o:TableSymbol Ref="o73"/>
<o:TableSymbol Ref="o85"/>
<o:TableSymbol Ref="o112"/>
<o:TableSymbol Ref="o144"/>
<o:TableSymbol Ref="o129"/>
</c:Symbols>
</o:PhysicalDiagram>
</c:PhysicalDiagrams>
<c:DefaultDiagram>
<o:PhysicalDiagram Ref="o4"/>
</c:DefaultDiagram>
<c:Users>
<o:User Ref="o41"/>
</c:Users>
<c:Tables>
<o:Table Ref="o45"/>
<o:Table Ref="o63"/>
<o:Table Ref="o193"/>
<o:Table Ref="o202"/>
<o:Table Ref="o211"/>
<o:Table Ref="o222"/>
<o:Table Ref="o7"/>
<o:Table Ref="o236"/>
<o:Table Ref="o244"/>
<o:Table Ref="o74"/>
<o:Table Ref="o86"/>
<o:Table Ref="o113"/>
<o:Table Ref="o145"/>
<o:Table Ref="o130"/>
</c:Tables>
<c:References>
<o:Reference Ref="o59"/>
<o:Reference Ref="o70"/>
<o:Reference Ref="o109"/>
<o:Reference Ref="o126"/>
<o:Reference Ref="o141"/>
<o:Reference Ref="o163"/>
<o:Reference Ref="o166"/>
<o:Reference Ref="o169"/>
<o:Reference Ref="o172"/>
<o:Reference Ref="o178"/>
<o:Reference Ref="o175"/>
<o:Reference Ref="o181"/>
<o:Reference Ref="o184"/>
<o:Reference Ref="o187"/>
<o:Reference Ref="o190"/>
</c:References>
<c:TargetModels>
<o:TargetModel Id="o261">
<a:ObjectID>6958C2FF-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Microsoft SQL Server 7.x</a:Name>
<a:Code>SQL SERVER 7</a:Code>
<a:CreationDate>1081598962</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598962</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:TargetModelURL>file:///%_DBMS%/sqlserv7.xdb</a:TargetModelURL>
<a:TargetModelID>986CB218-1936-4245-823C-883D7AF59B86</a:TargetModelID>
<a:TargetModelClassID>4BA9F647-DAB1-11D1-9944-006097355D9B</a:TargetModelClassID>
<c:SessionShortcuts>
<o:Shortcut Ref="o3"/>
<o:Shortcut Id="o262">
<a:ObjectID>6958C304-8FBB-11D8-B6CA-00024416849C</a:ObjectID>
<a:Name>Microsoft SQL Server 7.x</a:Name>
<a:Code>SQL SERVER 7</a:Code>
<a:CreationDate>1081598965</a:CreationDate>
<a:Creator>prsi_ronei</a:Creator>
<a:ModificationDate>1081598965</a:ModificationDate>
<a:Modifier>prsi_ronei</a:Modifier>
<a:TargetID>986CB218-1936-4245-823C-883D7AF59B86</a:TargetID>
<a:TargetClassID>4BA9F647-DAB1-11D1-9944-006097355D9B</a:TargetClassID>
<a:TargetPackagePath/>
</o:Shortcut>
</c:SessionShortcuts>
</o:TargetModel>
</c:TargetModels>
</o:Model>
</c:Children>
</o:RootObject>

</Model>