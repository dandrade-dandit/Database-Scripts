set verify off
COL SEGMENT_NAME FORMAT A45
COL TABLESPACE_NAME FORMAT A30
ACCEPT OWNER CHAR PROMPT 'ENTRE COM O ONWER: '
--ACCEPT TYPE CHAR PROMPT 'ENTRE COM O TIPO DO OBJETO: '

SELECT SEGMENT_NAME, PARTITION_NAME, TABLESPACE_NAME, (SUM(BYTES)/1024/1024) AS "TOTAL EM MB"
FROM DBA_EXTENTS
WHERE OWNER = UPPER('&OWNER')
AND SEGMENT_TYPE = 'TABLE'
GROUP BY SEGMENT_NAME, PARTITION_NAME, TABLESPACE_NAME;


SELECT TABLESPACE_NAME, (SUM(BYTES)/1024/1024) AS "TOTAL GERAL EM MB"
FROM DBA_EXTENTS
WHERE OWNER = UPPER('&OWNER')
AND SEGMENT_TYPE = 'TABLE'
GROUP BY TABLESPACE_NAME;

SELECT SEGMENT_NAME, PARTITION_NAME, TABLESPACE_NAME, (SUM(BYTES)/1024/1024) AS "TOTAL EM MB"
FROM DBA_EXTENTS
WHERE OWNER = UPPER('&OWNER')
AND SEGMENT_TYPE = 'INDEX'
GROUP BY SEGMENT_NAME, PARTITION_NAME, TABLESPACE_NAME;


SELECT TABLESPACE_NAME, (SUM(BYTES)/1024/1024) AS "TOTAL GERAL EM MB"
FROM DBA_EXTENTS
WHERE OWNER = UPPER('&OWNER')
AND SEGMENT_TYPE = 'INDEX'
GROUP BY TABLESPACE_NAME;
set verify on