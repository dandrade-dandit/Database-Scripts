set verify off
COL SEGMENT_NAME FORMAT A45
COL TABLESPACE_NAME FORMAT A30
ACCEPT OWNER CHAR PROMPT 'ENTRE COM A TABLESPACE: '
--ACCEPT TYPE CHAR PROMPT 'ENTRE COM O TIPO DO OBJETO: '

SELECT SEGMENT_NAME, OWNER, (SUM(BYTES)/1024/1024) AS "TOTAL EM MB"
FROM DBA_EXTENTS
WHERE TABLESPACE_NAME = UPPER('&OWNER')
AND SEGMENT_TYPE = 'TABLE'
GROUP BY SEGMENT_NAME, OWNER;


SELECT OWNER, (SUM(BYTES)/1024/1024) AS "TOTAL GERAL EM MB"
FROM DBA_EXTENTS
WHERE TABLESPACE_NAME = UPPER('&OWNER')
AND SEGMENT_TYPE = 'TABLE'
GROUP BY OWNER;

SELECT SEGMENT_NAME, OWNER, (SUM(BYTES)/1024/1024) AS "TOTAL EM MB"
FROM DBA_EXTENTS
WHERE TABLESPACE_NAME = UPPER('&OWNER')
AND SEGMENT_TYPE = 'INDEX'
GROUP BY SEGMENT_NAME, OWNER;


SELECT OWNER, (SUM(BYTES)/1024/1024) AS "TOTAL GERAL EM MB"
FROM DBA_EXTENTS
WHERE TABLESPACE_NAME = UPPER('&OWNER')
AND SEGMENT_TYPE = 'INDEX'
GROUP BY OWNER;
set verify on