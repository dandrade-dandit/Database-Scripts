ALTER TABLE APROVADOR_VIAGEM
ADD CONSTRAINT APV_PK PRIMARY KEY (AVI_UOR_CODIGO,AVI_DATA_INICIO,AVI_EMP_NUMERO_MATRICULA)
/
alter table APROVADOR_VIAGEM drop primary key
/
alter table APROVADOR_VIAGEM_TIPO drop primary key
/

ALTER TABLE APROVADOR_VIAGEM_TIPO ADD avi_emp_numero_matricula NUMBER(7)
/

ALTER TABLE APROVADOR_VIAGEM
ADD CONSTRAINT APV_PK PRIMARY KEY (AVI_UOR_CODIGO,AVI_DATA_INICIO,AVI_EMP_NUMERO_MATRICULA)
/

ALTER TABLE APROVADOR_VIAGEM_TIPO
ADD CONSTRAINT APVT_PK PRIMARY KEY (AVI_UOR_CODIGO,AVI_DATA_INICIO,AVI_OFU_CODIGO,AVI_EMP_NUMERO_MATRICULA)
/

ALTER TABLE APROVADOR_VIAGEM_TIPO
ADD CONSTRAINT APV_APVT_FK foreign key (AVI_UOR_CODIGO,AVI_DATA_INICIO,AVI_EMP_NUMERO_MATRICULA)
REFERENCES APROVADOR_VIAGEM (AVI_UOR_CODIGO,AVI_DATA_INICIO,AVI_EMP_NUMERO_MATRICULA)
/
