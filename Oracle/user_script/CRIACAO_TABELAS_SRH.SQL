CREATE TABLE CONCURSOS
( 	CON_NR_CONCURSO				NUMBER(8)
,	CON_DT_EDITAL_CONCURSO			DATE
,	CON_DT_HOMOLOGACAO_CONCURSO	    	DATE
,	CON_DT_VALIDADE_CONCURSO		DATE
,	CON_FLG_PREVE_PRORROGACAO		VARCHAR2(1)
,	CON_FLG_VALIDADE_PRORROGADA		VARCHAR2(1) 
,	CON_ANO_VALIDADE	                NUMBER(4)
,	CON_MES_VALIDADE       		        NUMBER(2)
,	CON_DIA_VALIDADE			NUMBER(2)
,	CON_FLG_STATUS_CONCURSO			NUMBER(1) 
)
/

COMMENT ON COLUMN CONCURSOS.CON_NR_CONCURSO IS 'NÚMERO DO CONCURSO 999.9/99.99 ONDE 999 - DEPENDÊNCIA; 9 - SEQÜÊNCIA NO ANO; 99 - ANO DO CONCURSO; 99 - NÚMERO SEQUÊNCIAL DO EDITAL DE PUBLICAÇÃO DO DIÁRIO OFICIAL'
/

COMMENT ON COLUMN CONCURSOS.CON_DT_EDITAL_CONCURSO IS 'DATA DO EDITAL DE ABERTURA DO CONCURSO'
/

COMMENT ON COLUMN CONCURSOS.CON_DT_HOMOLOGACAO_CONCURSO IS 'DATA DA HOMOLOGAÇÃO DO CONCURSO'
/

COMMENT ON COLUMN CONCURSOS.CON_DT_VALIDADE_CONCURSO IS 'DATA DA VALIDADE DO CONCURSO'
/

COMMENT ON COLUMN CONCURSOS.CON_FLG_PREVE_PRORROGACAO IS 'FLAG PARA INDICAR SE O CONCURSO PREVE PRORROGAÇÃO: S - SIM E N - NÃO'
/

COMMENT ON COLUMN CONCURSOS.CON_FLG_VALIDADE_PRORROGADA IS 'FLAG PARA INDICAR SE A VALIDADE DO CONCURSO FOI PRORROGADA: S - SIM E N - NÃO'
/

COMMENT ON COLUMN CONCURSOS.CON_ANO_VALIDADE IS 'ANO DA VALIDADE'
/

COMMENT ON COLUMN CONCURSOS.CON_MES_VALIDADE IS 'MES DA VALIDADE'
/

COMMENT ON COLUMN CONCURSOS.CON_DIA_VALIDADE IS 'DIA DA VALIDADE'
/

COMMENT ON COLUMN CONCURSOS.CON_FLG_STATUS_CONCURSO IS 'INDICADOR DO STATUS DO CONCURSO: 1 - CONCURSO VIGENTE,  2 - CONCURSO VENCIDO, 3 - CONCURSO SUSPENSO'
/

GRANT DELETE,INSERT,SELECT,UPDATE ON CONCURSOS TO RH_PERFIL_99
/

GRANT DELETE,INSERT,SELECT,UPDATE ON CONCURSOS TO SRH_CAD_99
/

ALTER TABLE CONCURSOS
ADD CONSTRAINT CON_PK PRIMARY KEY (CON_NR_CONCURSO)
USING INDEX
TABLESPACE TS_INDICE
/ 

ALTER TABLE CONCURSOS
ADD CONSTRAINT CON_CK_1 CHECK ( CON_FLG_PREVE_PRORROGACAO IN ('S','N'))
/

ALTER TABLE CONCURSOS
ADD CONSTRAINT CON_CK_2 CHECK ( CON_FLG_VALIDADE_PRORROGADA IN ('S','N'))
/

ALTER TABLE CONCURSOS
ADD CONSTRAINT CON_CK_3 CHECK ( CON_FLG_STATUS_CONCURSO IN (1,2,3))                                                    
/

--TABELA CONCURSADOS_APROVADOS

CREATE TABLE CONCURSADOS_APROVADOS
( COA_CON_NR_CONCURSO    	NUMBER(8)
,COA_NR_INSCRICAO    		VARCHAR2(50)
,COA_EMP_NUMERO_MATRICULA   	NUMBER(7)  
,COA_NM_CONCURSADO    		VARCHAR2(50)
,COA_NR_DOCUMENTO    		VARCHAR2(50)
,COA_LOCALIDADE     		VARCHAR2(50)
,COA_NM_CARGO     		VARCHAR2(50)
,COA_NR_CLASSIFICACAO    	NUMBER(4)
,COA_NR_ANO_ATO_CADASTRO_ADM  	NUMBER(4) 
,COA_NR_ATO_CADASTRO_ADM   	NUMBER(5) 
,COA_NR_ATO_ADMISSAO    	VARCHAR2(6)
,COA_NR_ATO_ORIGEM_VAGA    	VARCHAR2(6)
,COA_DT_PUBLIC_ATO_ORIGEM_VAGA  DATE
,COA_NR_ANO_ATO_CADASTRO_DESL  	NUMBER(4) 
,COA_NR_ATO_CADASTRO_DESL   	NUMBER(5)  
,COA_DT_PUBLICACAO_ATO_DESL 	DATE
)
/


COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_CON_NR_CONCURSO IS 'NÚMERO DO CONCURSO 999.9/99.99 ONDE 999 - DEPENDÊNCIA; 9 - SEQÜÊNCIA NO ANO; 99 - ANO DO CONCURSO; 99 - NÚMERO SEQUÊNCIAL DO EDITAL DE PUBLICAÇÃO DO DIÁRIO OFICIAL'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_NR_INSCRICAO IS 'NÚMERO DE INSCRICAO DO CANDIDATO NO CONCURSO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_EMP_NUMERO_MATRICULA IS 'NÚMERO DA MATRÍCULA ATRIBUIDA AO CANDIDATO APROVADO E ADMITIDO PELA INFRAERO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_NM_CONCURSADO IS 'NOME DO CONCURSADO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_NR_DOCUMENTO IS 'NÚMERO DO DOCUMENTO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_LOCALIDADE IS 'LOCALIDADE DE REALIZAÇÃO DO CONCURSO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_NM_CARGO IS 'NOME DO CARGO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_NR_CLASSIFICACAO IS 'NÚMERO DE CLASSIFICAÇÃO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_NR_ANO_ATO_CADASTRO_ADM IS 'ANO DO ATO DE CADASTRAMENTO DA ADMISSÃO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_NR_ATO_CADASTRO_ADM IS 'NÚMERO DO ATO DE CADASTRAMENTO DA ADMISSÃO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_NR_ATO_ADMISSAO IS 'NÚMERO DO ATO DE ADMISSÃO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_NR_ATO_ORIGEM_VAGA IS 'NÚMERO DO ATO DE ORIGEM DA CRIAÇÃO DE VAGAS PARA O CARGO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_DT_PUBLIC_ATO_ORIGEM_VAGA IS 'DATA DA PUBLICAÇÃO DO ATO DE ORIGEM DA CRIAÇÃO DE VAGAS PARA O CARGO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_NR_ANO_ATO_CADASTRO_DESL IS 'ANO DO ATO DE CADASTRAMENTO DO DESLIGAMENTO DO EMPREGADO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_NR_ATO_CADASTRO_DESL IS 'NÚMERO DO ATO DE CADASTRAMENTO DO DESLIGAMENTO DO EMPREGADO'
/

COMMENT ON COLUMN CONCURSADOS_APROVADOS.COA_DT_PUBLICACAO_ATO_DESL IS 'DATA DA PUBLICAÇÃO DO ATO DO DESLIGAMENTO DO EMPREGADO'
/

GRANT DELETE,INSERT,SELECT,UPDATE ON CONCURSADOS_APROVADOS TO RH_PERFIL_99
/

GRANT DELETE,INSERT,SELECT,UPDATE ON CONCURSADOS_APROVADOS TO SRH_CAD_99
/

ALTER TABLE CONCURSADOS_APROVADOS
ADD CONSTRAINT COA_PK PRIMARY KEY (COA_CON_NR_CONCURSO, COA_NR_INSCRICAO)
USING INDEX
TABLESPACE TS_INDICE
/

ALTER TABLE CONCURSADOS_APROVADOS
ADD CONSTRAINT COA_EMP_FK FOREIGN KEY (COA_EMP_NUMERO_MATRICULA)
      REFERENCES CADASTROS (EMP_NUMERO_MATRICULA)
/

--TABELA HISTORICO_GERACAO_TCU

CREATE TABLE  HISTORICO_GERACAO_TCU
(HGT_DT_REFERENCIA_GERACAO			    DATE	
,HGT_EMP_NUMERO_MATRICULA			    NUMBER(7) 
,HGT_DT_GERACAO 				    DATE
,HGT_FLG_TIPO_GERACAO		    		    VARCHAR2(1) 
,HGT_FLG_MOVIMENTO_FECHADO			    VARCHAR2(1)  
)
/

COMMENT ON COLUMN HISTORICO_GERACAO_TCU.HGT_DT_REFERENCIA_GERACAO IS 'MES E ANO DE REFERENCIA DOS DADOS'
/

COMMENT ON COLUMN HISTORICO_GERACAO_TCU.HGT_EMP_NUMERO_MATRICULA IS 'MATRICULA DO EMPREGADO QUE GEROU O ARQUIVO'
/

COMMENT ON COLUMN HISTORICO_GERACAO_TCU.HGT_DT_GERACAO IS 'DATA DA GERAÇÃO DO ARQUIVO'
/

COMMENT ON COLUMN HISTORICO_GERACAO_TCU.HGT_FLG_TIPO_GERACAO IS 'INDICADOR DO TIPO DE ARQUIVO (A) PARA ADMISSÃO E (D) PARA DESLIGAMENTO'
/

COMMENT ON COLUMN HISTORICO_GERACAO_TCU.HGT_FLG_MOVIMENTO_FECHADO IS 'INDICA SE O MOVIMENTO ESTÁ FECHADO OU ABERTO PERMITINDO REENVIO DE ALTERAÇÕES'
/

GRANT DELETE,INSERT,SELECT,UPDATE ON HISTORICO_GERACAO_TCU TO RH_PERFIL_99
/

GRANT DELETE,INSERT,SELECT,UPDATE ON HISTORICO_GERACAO_TCU TO SRH_CAD_99
/

ALTER TABLE HISTORICO_GERACAO_TCU
ADD CONSTRAINT HGT_PK PRIMARY KEY (HGT_DT_REFERENCIA_GERACAO)
USING INDEX
TABLESPACE TS_INDICE
/

ALTER TABLE HISTORICO_GERACAO_TCU
ADD CONSTRAINT HGT_EMP_FK FOREIGN KEY (HGT_EMP_NUMERO_MATRICULA)
      REFERENCES CADASTROS (EMP_NUMERO_MATRICULA)
/

ALTER TABLE HISTORICO_GERACAO_TCU
ADD CONSTRAINT HGT_CK_1 CHECK ( HGT_FLG_TIPO_GERACAO IN ('A','D'))
/

ALTER TABLE HISTORICO_GERACAO_TCU
ADD CONSTRAINT HGT_CK_2 CHECK ( HGT_FLG_MOVIMENTO_FECHADO IN ('S','N'))
/

create public synonym CONCURSOS for IFRSRH.CONCURSOS
/

create public synonym CONCURSADOS_APROVADOS for IFRSRH.CONCURSADOS_APROVADOS
/

create public synonym HISTORICO_GERACAO_TCU for IFRSRH.HISTORICO_GERACAO_TCU
/

insert into tabelas values ('SRHCAD', 'CONCURSOS', 'IFRSRH', 'TABELA')
/

insert into tabelas values ('SRHCAD', 'CONCURSADOS_APROVADOS', 'IFRSRH', 'TABELA')
/

insert into tabelas values ('SRHCAD', 'HISTORICO_GERACAO_TCU', 'IFRSRH', 'TABELA')
/
