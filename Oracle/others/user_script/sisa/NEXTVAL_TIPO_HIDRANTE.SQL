CREATE OR REPLACE FUNCTION NEXTVAL_TIPO_HIDRANTE(P_VALOR NUMBER) RETURN NUMBER IS
   V_SEQ_TIPO TAB_TIPO_HIDRANTE.SEQ_TIPO_HIDRANTE%TYPE;
BEGIN
   IF P_VALOR IS NULL THEN
      /*SELECT SEQ_TIPO_HIDRANTE.NEXTVAL INTO V_SEQ_TIPO FROM DUAL;*/
  
      SELECT NVL(MAX(SEQ_TIPO_HIDRANTE), 0) + 1 
      INTO V_SEQ_TIPO
      FROM TAB_TIPO_HIDRANTE;
      
      RETURN V_SEQ_TIPO;
   ELSE
      RETURN P_VALOR;
   END IF;
END;