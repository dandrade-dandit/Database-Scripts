CREATE OR REPLACE FUNCTION NEXTVAL_PORTA(P_VALOR NUMBER) RETURN NUMBER IS
   V_SEQ_PORTA CAD_PORTA.SEQ_PORTA%TYPE;
BEGIN
   IF P_VALOR IS NULL THEN
      /*SELECT SEQ_PORTA.NEXTVAL INTO V_SEQ_PORTA FROM DUAL;*/

      SELECT NVL(MAX(SEQ_PORTA), 0) + 1 
      INTO V_SEQ_PORTA
      FROM CAD_PORTA;

      RETURN V_SEQ_PORTA;
   ELSE
      RETURN P_VALOR;
   END IF;
END;